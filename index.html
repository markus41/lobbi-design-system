<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lobbi Design System - 210 Style Gallery</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a24;
            --bg-card: #16161f;
            --border: #2a2a3a;
            --border-hover: #3b82f6;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --accent: #3b82f6;
            --accent-light: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --premium: #d4af37;
        }

        /* Light Theme Variables */
        :root.light-theme {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-card: #ffffff;
            --border: #e2e8f0;
            --border-hover: #3b82f6;
            --text-primary: #1a1a2e;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --accent: #3b82f6;
            --accent-light: #2563eb;
            --success: #10b981;
            --warning: #f59e0b;
            --premium: #b8860b;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            padding: 0.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            border-color: var(--accent);
            background: var(--bg-secondary);
        }

        .theme-toggle svg {
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .theme-toggle:hover svg {
            color: var(--accent);
        }

        .theme-toggle .sun-icon { display: none; }
        .theme-toggle .moon-icon { display: block; }

        :root.light-theme .theme-toggle .sun-icon { display: block; }
        :root.light-theme .theme-toggle .moon-icon { display: none; }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* === HEADER === */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
        }

        .header-inner {
            max-width: 1800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .logo-badge {
            background: linear-gradient(135deg, var(--accent), #8b5cf6);
            padding: 0.25rem 0.75rem;
            border-radius: 2rem;
            font-size: 0.6875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* === SEARCH === */
        .search-container {
            flex: 1;
            max-width: 500px;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.75rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 0.9375rem;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        /* === STATS BAR === */
        .stats-bar {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .stat-label {
            font-size: 0.6875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
        }

        /* === CONTROLS BAR === */
        .controls-bar {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 73px;
            z-index: 99;
        }

        .controls-inner {
            max-width: 1800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-tabs {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 2rem;
            color: var(--text-secondary);
            font-size: 0.8125rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-tab:hover {
            border-color: var(--accent);
            color: var(--accent-light);
        }

        .filter-tab.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .filter-count {
            background: rgba(255,255,255,0.2);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.6875rem;
        }

        .view-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .view-btn {
            padding: 0.5rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .view-btn:hover, .view-btn.active {
            border-color: var(--accent);
            color: var(--accent);
        }

        .sort-select {
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-primary);
            font-size: 0.8125rem;
            cursor: pointer;
        }

        /* === MAIN GRID === */
        .main {
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .results-count {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .results-count strong {
            color: var(--text-primary);
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .style-grid.list-view {
            grid-template-columns: 1fr;
        }

        /* === STYLE CARDS === */
        .style-card {
            background: var(--bg-card);
            border-radius: 0.75rem;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
        }

        .style-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .list-view .style-card {
            flex-direction: row;
        }

        .card-preview {
            height: 180px;
            position: relative;
            overflow: hidden;
            background: var(--bg-tertiary);
        }

        .list-view .card-preview {
            width: 280px;
            height: 160px;
            flex-shrink: 0;
        }

        .preview-iframe-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 1400px;
            height: 900px;
            transform: scale(0.2);
            transform-origin: top left;
            pointer-events: none;
        }

        .list-view .preview-iframe-container {
            width: 1400px;
            height: 800px;
            transform: scale(0.2);
        }

        .preview-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        .preview-loading {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .preview-loading::after {
            content: '';
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .card-preview-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }

        .style-card:hover .card-preview-overlay {
            opacity: 1;
        }

        .preview-btn {
            padding: 0.625rem 1.5rem;
            background: white;
            color: #0a0a0f;
            border: none;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .preview-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        .card-content {
            padding: 1rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .card-number {
            font-size: 0.6875rem;
            font-weight: 600;
            color: var(--accent-light);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .card-temp {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.6875rem;
            color: var(--text-muted);
        }

        .temp-bar {
            width: 40px;
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
        }

        .temp-fill {
            height: 100%;
            border-radius: 2px;
        }

        .temp-cool { background: linear-gradient(90deg, #3b82f6, #60a5fa); }
        .temp-neutral { background: linear-gradient(90deg, #6b7280, #9ca3af); }
        .temp-warm { background: linear-gradient(90deg, #f59e0b, #fbbf24); }

        .card-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.375rem;
        }

        .card-blend {
            font-size: 0.8125rem;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
        }

        .card-tags {
            display: flex;
            gap: 0.375rem;
            flex-wrap: wrap;
            margin-top: auto;
        }

        .tag {
            padding: 0.25rem 0.5rem;
            background: var(--bg-tertiary);
            border-radius: 0.25rem;
            font-size: 0.6875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .tag.premium { background: rgba(212, 175, 55, 0.15); color: var(--premium); }
        .tag.professional { background: rgba(59, 130, 246, 0.15); color: var(--accent-light); }
        .tag.creative { background: rgba(168, 85, 247, 0.15); color: #c084fc; }
        .tag.tech { background: rgba(16, 185, 129, 0.15); color: var(--success); }
        .tag.media { background: rgba(245, 158, 11, 0.15); color: var(--warning); }
        .tag.association { background: rgba(99, 102, 241, 0.15); color: #818cf8; }
        /* Perfect For Tags */
        .card-perfect-for {
            display: flex;
            gap: 0.25rem;
            flex-wrap: wrap;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid var(--border);
        }

        .perfect-for-tag {
            font-size: 0.625rem;
            color: var(--text-muted);
            background: transparent;
            padding: 0.125rem 0.375rem;
            border: 1px solid var(--border);
            border-radius: 2rem;
        }

        .style-card:hover .perfect-for-tag {
            border-color: var(--accent);
            color: var(--accent-light);
        }


        /* === CATEGORY SECTIONS === */
        .category-section {
            margin-bottom: 3rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .category-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .category-count {
            background: var(--bg-tertiary);
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* === FALLBACK PREVIEW GRADIENTS (shown while iframe loads) === */
        .preview-finance { background: linear-gradient(135deg, #1a2744 0%, #2d3a52 100%); }
        .preview-medical { background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%); }
        .preview-consulting { background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 100%); }
        .preview-luxury { background: linear-gradient(135deg, #1c1c1c 0%, #b76e79 100%); }
        .preview-hospitality { background: linear-gradient(135deg, #fdfbf7 0%, #b8a898 100%); }
        .preview-tech { background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%); }
        .preview-media { background: linear-gradient(135deg, #0a0a0a 0%, #c9a227 100%); }
        .preview-corporate { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); }
        .preview-academic { background: linear-gradient(135deg, #a51c30 0%, #1e3a5f 100%); }
        .preview-heritage { background: linear-gradient(135deg, #722f37 0%, #c9a227 100%); }
        .preview-creative { background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); }
        .preview-nature { background: linear-gradient(135deg, #22c55e 0%, #84cc16 100%); }
        .preview-dark { background: linear-gradient(135deg, #0f0f0f 0%, #27272a 100%); }
        .preview-light { background: linear-gradient(135deg, #faf9f6 0%, #e5e7eb 100%); }

        /* Preview frame border for polish */
        .card-preview::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 1px solid rgba(255,255,255,0.05);
            pointer-events: none;
            z-index: 5;
        }

        /* === FOOTER === */
        .footer {
            padding: 3rem 2rem;
            text-align: center;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }

        .footer-logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .footer-text {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* === RESPONSIVE === */
        @media (max-width: 1024px) {
            .stats-bar { display: none; }
            .header-inner { flex-wrap: wrap; }
            .search-container { order: 3; max-width: 100%; flex-basis: 100%; }
        }

        @media (max-width: 768px) {
            .controls-inner { flex-direction: column; align-items: stretch; }
            .filter-tabs { justify-content: center; }
            .view-controls { justify-content: center; }
            .style-grid { grid-template-columns: 1fr; }
            .list-view .style-card { flex-direction: column; }
            .list-view .card-preview { width: 100%; }
        }

        /* === LOADING STATE === */
        .loading-skeleton {
            background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-secondary) 50%, var(--bg-tertiary) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* === NO RESULTS === */
        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-muted);
        }

        .no-results h3 {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* === KEYBOARD SHORTCUTS PANEL === */
        .keyboard-shortcuts {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: rgba(10, 10, 15, 0.98);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            max-width: 350px;
            z-index: 1000;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            transform: translateY(120%);
            transition: transform 0.3s ease;
        }

        .keyboard-shortcuts.visible {
            transform: translateY(0);
        }

        .shortcuts-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .shortcuts-title {
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .shortcuts-close {
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.25rem;
            transition: color 0.2s;
        }

        .shortcuts-close:hover {
            color: var(--text-primary);
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }

        .shortcut-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .shortcut-key {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-family: 'Courier New', monospace;
            color: var(--accent-light);
        }

        /* === PERFORMANCE PANEL === */
        .perf-panel {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 0.75rem;
            z-index: 1000;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            pointer-events: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .perf-panel.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .perf-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        .perf-title {
            color: var(--accent-light);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
            font-size: 0.6875rem;
        }

        .perf-close {
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 1.25rem;
            line-height: 1;
            padding: 0;
            transition: color 0.2s;
        }

        .perf-close:hover {
            color: var(--text-primary);
        }

        .perf-metrics {
            min-width: 200px;
        }

        .perf-metric {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            padding: 0.25rem 0;
        }

        .perf-label {
            color: var(--text-muted);
        }

        .perf-value {
            color: var(--success);
            font-weight: 600;
        }

        .perf-value.warning {
            color: var(--warning);
        }

        .perf-value.error {
            color: #ef4444;
        }

        /* === QUICK JUMP INPUT === */
        .quick-jump {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quick-jump-input {
            width: 80px;
            padding: 0.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-primary);
            font-size: 0.8125rem;
            transition: all 0.2s;
        }

        .quick-jump-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .quick-jump-input::placeholder {
            color: var(--text-muted);
        }

        /* === RANDOM & FAVORITE BUTTONS === */
        .action-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-secondary);
            font-size: 0.8125rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .action-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .action-btn.random:hover {
            border-color: var(--warning);
            color: var(--warning);
        }

        /* === FAVORITE HEART === */
        .favorite-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: rgba(0, 0, 0, 0.6);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.2s;
            z-index: 20;
        }

        .style-card:hover .favorite-btn,
        .style-card:hover .collection-btn {
            opacity: 1;
        }

        .collection-btn {
            right: 3.5rem !important;
        }

        .favorite-btn.favorited {
            opacity: 1;
            background: rgba(220, 38, 38, 0.8);
        }

        .favorite-btn:hover {
            transform: scale(1.1);
        }

        .favorite-icon {
            width: 16px;
            height: 16px;
            fill: none;
            stroke: white;
            stroke-width: 2;
            transition: all 0.2s;
        }

        .favorite-btn.favorited .favorite-icon {
            fill: white;
        }

        /* === COLLECTIONS MODAL === */
        .collections-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .collections-modal.visible {
            display: flex;
        }

        .collections-modal-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            width: 90%;
            max-width: 400px;
            max-height: 70vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .collections-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .collections-header h3 {
            margin: 0;
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .collections-close {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
            transition: color 0.2s;
        }

        .collections-close:hover {
            color: var(--text-primary);
        }

        .collections-new {
            padding: 1rem;
            display: flex;
            gap: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        .collections-new input {
            flex: 1;
            padding: 0.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .collections-new input::placeholder {
            color: var(--text-muted);
        }

        .collections-new button {
            padding: 0.5rem 1rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }

        .collections-new button:hover {
            background: var(--accent-light);
        }

        .collections-list {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .collection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .collection-item:hover {
            background: var(--bg-tertiary);
        }

        .collection-item.active {
            background: rgba(59, 130, 246, 0.1);
        }

        .collection-item span {
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .delete-col-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0;
            line-height: 1;
            transition: color 0.2s;
        }

        .delete-col-btn:hover {
            color: var(--error);
        }

        /* Add to collection dropdown */
        .add-to-collection-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            min-width: 150px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .add-to-collection-dropdown.visible {
            display: block;
        }

        .dropdown-item {
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: background 0.2s;
        }

        .dropdown-item:hover {
            background: var(--bg-tertiary);
        }

        .dropdown-item.checked {
            background: rgba(59, 130, 246, 0.1);
        }

        .dropdown-item.new-collection {
            border-top: 1px solid var(--border);
            color: var(--accent);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-item.new-collection:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .dropdown-new-input {
            padding: 0.5rem 0.75rem;
            border-top: 1px solid var(--border);
        }

        .dropdown-new-input input {
            width: 100%;
            padding: 0.375rem 0.5rem;
            border: 1px solid var(--border);
            border-radius: 0.25rem;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-size: 0.8125rem;
        }

        .dropdown-new-input input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .collection-btn {
            position: relative;
        }

        /* === WALKTHROUGH/ONBOARDING === */
        .walkthrough-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .walkthrough-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .walkthrough-modal {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 1rem;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .walkthrough-overlay.visible .walkthrough-modal {
            transform: scale(1);
        }

        .walkthrough-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            text-align: center;
        }

        .walkthrough-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .walkthrough-header p {
            color: var(--text-secondary);
            font-size: 0.9375rem;
        }

        .walkthrough-content {
            padding: 1.5rem;
            overflow-y: auto;
            flex: 1;
        }

        .walkthrough-step {
            display: none;
        }

        .walkthrough-step.active {
            display: block;
        }

        .walkthrough-feature {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-tertiary);
            border-radius: 0.75rem;
            margin-bottom: 1rem;
        }

        .walkthrough-feature:last-child {
            margin-bottom: 0;
        }

        .walkthrough-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent), #8b5cf6);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .walkthrough-icon svg {
            color: white;
        }

        .walkthrough-feature-content h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .walkthrough-feature-content p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .walkthrough-feature-content kbd {
            background: var(--bg-secondary);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-family: monospace;
            border: 1px solid var(--border);
        }

        .walkthrough-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .walkthrough-dots {
            display: flex;
            gap: 0.5rem;
        }

        .walkthrough-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.2s;
        }

        .walkthrough-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }

        .walkthrough-nav {
            display: flex;
            gap: 0.75rem;
        }

        .walkthrough-btn {
            padding: 0.625rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .walkthrough-btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .walkthrough-btn-secondary:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .walkthrough-btn-primary {
            background: var(--accent);
            color: white;
        }

        .walkthrough-btn-primary:hover {
            background: var(--accent-light);
        }

        .help-trigger {
            position: fixed;
            bottom: 5rem;
            right: 1.5rem;
            width: 44px;
            height: 44px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 90;
            transition: all 0.2s;
            color: var(--text-secondary);
        }

        .help-trigger:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: scale(1.05);
        }

        .toast-notification {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-primary);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast-notification.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast-notification.success {
            border-color: var(--success);
        }

        /* === SKIP TO CONTENT === */
        .skip-to-content {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            font-weight: 600;
            z-index: 200;
            transition: top 0.3s;
        }

        .skip-to-content:focus {
            top: 1rem;
        }

        /* === CARD FOCUS IMPROVEMENTS === */
        .style-card:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--accent), 0 20px 40px rgba(0, 0, 0, 0.4);
            transform: translateY(-4px);
            z-index: 10;
        }

        .style-card:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px var(--accent), 0 20px 40px rgba(0, 0, 0, 0.4);
            transform: translateY(-4px);
            z-index: 10;
        }

        /* === KEYBOARD SHORTCUT HINT === */
        .keyboard-hint {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid var(--accent);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.75rem;
            color: var(--accent-light);
            z-index: 999;
            cursor: pointer;
            transition: all 0.2s;
        }

        .keyboard-hint:hover {
            background: rgba(59, 130, 246, 0.2);
        }

        .keyboard-hint.hidden {
            display: none;
        }

        /* === RECENTLY VIEWED SECTION === */
        .recently-viewed {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 0.75rem;
            border: 1px solid var(--border);
        }

        .recently-viewed.hidden {
            display: none;
        }

        .recent-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .recent-header h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .clear-recent-btn {
            padding: 0.375rem 0.75rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-muted);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .clear-recent-btn:hover {
            border-color: #ef4444;
            color: #ef4444;
        }

        .recent-styles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 1rem;
        }

        .recent-card {
            display: flex;
            flex-direction: column;
            text-decoration: none;
            border-radius: 0.5rem;
            overflow: hidden;
            border: 1px solid var(--border);
            background: var(--bg-card);
            transition: all 0.2s;
        }

        .recent-card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }

        .recent-card img {
            width: 100%;
            aspect-ratio: 16/10;
            object-fit: cover;
            background: var(--bg-tertiary);
        }

        .recent-card span {
            padding: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @media (max-width: 768px) {
            .recent-styles-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }

        /* === COLOR SWATCHES === */
        .card-colors {
            display: flex;
            gap: 4px;
            margin-top: 0.5rem;
        }

        .color-swatch {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.15);
            transition: transform 0.2s;
        }

        .color-swatch:hover {
            transform: scale(1.2);
        }

        .style-card:hover .color-swatch {
            border-color: rgba(255, 255, 255, 0.3);
        }

        :root.light-theme .color-swatch {
            border-color: rgba(0, 0, 0, 0.1);
        }

        :root.light-theme .style-card:hover .color-swatch {
            border-color: rgba(0, 0, 0, 0.2);
        }

        /* === COMPARISON MODE === */
        .compare-toggle {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            color: var(--text-secondary);
            font-size: 0.8125rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .compare-toggle:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .compare-toggle.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .compare-badge {
            display: none;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.6875rem;
            font-weight: 600;
        }

        .compare-toggle.active .compare-badge {
            display: inline;
        }

        /* Compare Checkbox on Cards */
        .compare-checkbox {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            width: 24px;
            height: 24px;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 4px;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
            z-index: 21;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .compare-mode .compare-checkbox {
            opacity: 1;
        }

        .style-card:hover .compare-checkbox {
            opacity: 1;
        }

        .compare-checkbox.selected {
            background: var(--accent);
            border-color: var(--accent);
            opacity: 1;
        }

        .compare-checkbox svg {
            color: white;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .compare-checkbox.selected svg {
            opacity: 1;
        }

        /* Comparison Modal */
        .comparison-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: none;
            flex-direction: column;
        }

        .comparison-modal.visible {
            display: flex;
        }

        .comparison-header {
            padding: 1rem 2rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comparison-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .comparison-close {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .comparison-close:hover {
            border-color: #ef4444;
            color: #ef4444;
        }

        .comparison-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1px;
            background: var(--border);
            overflow: hidden;
        }

        .comparison-pane {
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .comparison-pane-header {
            padding: 1rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .comparison-pane-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .comparison-pane-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .comparison-pane-iframe {
            flex: 1;
            background: var(--bg-tertiary);
        }

        .comparison-pane-iframe iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .comparison-empty {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            gap: 1rem;
        }

        .comparison-empty svg {
            opacity: 0.3;
        }

        /* Floating Compare Button */
        .compare-fab {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 2rem;
            font-size: 0.9375rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.4);
            z-index: 1500;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .compare-fab.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .compare-fab:hover {
            background: var(--accent-light);
            transform: translateX(-50%) translateY(-2px);
        }

        .compare-fab .fab-count {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
        }

        @media (max-width: 768px) {
            .comparison-content {
                grid-template-columns: 1fr;
            }

            .compare-fab {
                bottom: 1rem;
                padding: 0.625rem 1.25rem;
                font-size: 0.875rem;
            }
        }

        /* === SCROLL TO TOP BUTTON === */
        .scroll-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 48px;
            height: 48px;
            background: var(--accent);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 80;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            background: var(--accent-light);
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
        }

        .scroll-to-top:active {
            transform: translateY(-2px);
        }

        /* === COPY LINK BUTTON === */
        .copy-link-btn {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            background: rgba(0, 0, 0, 0.6);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.2s;
            z-index: 20;
        }

        .style-card:hover .copy-link-btn {
            opacity: 1;
        }

        .copy-link-btn:hover {
            background: rgba(59, 130, 246, 0.8);
            transform: scale(1.1);
        }

        .copy-link-btn.copied {
            background: rgba(16, 185, 129, 0.8);
        }

        /* === SEARCH HISTORY DROPDOWN === */
        .search-history {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 0.5rem 0.5rem;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .search-history.visible {
            display: block;
        }

        .search-history-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: background 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .search-history-item:hover {
            background: var(--bg-tertiary);
        }

        .search-history-header {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .clear-history-btn {
            background: transparent;
            border: none;
            color: var(--accent);
            cursor: pointer;
            font-size: 0.75rem;
            padding: 0;
            transition: color 0.2s;
        }

        .clear-history-btn:hover {
            color: var(--accent-light);
        }

        .history-icon {
            color: var(--text-muted);
            margin-right: 0.5rem;
        }

        /* === SKELETON LOADING === */
        .skeleton-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .skeleton-card {
            background: var(--bg-card);
            border-radius: 0.75rem;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .skeleton-preview {
            height: 180px;
            background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-secondary) 50%, var(--bg-tertiary) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        .skeleton-content {
            padding: 1rem;
        }

        .skeleton-line {
            height: 12px;
            background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-secondary) 50%, var(--bg-tertiary) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
            margin-bottom: 0.5rem;
        }

        .skeleton-line:last-child {
            margin-bottom: 0;
        }

        .skeleton-line.short {
            width: 60%;
        }

        /* === QUICK FILTER CHIPS === */
        .quick-filters {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
            padding: 0 2rem;
        }

        .quick-filter-chip {
            padding: 0.375rem 0.75rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 2rem;
            color: var(--text-secondary);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .quick-filter-chip:hover {
            border-color: var(--accent);
            color: var(--accent-light);
            background: rgba(59, 130, 246, 0.1);
        }

        .quick-filter-chip.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .quick-filter-chip svg {
            width: 12px;
            height: 12px;
        }

        /* === ENHANCED HOVER PREVIEW === */
        .card-preview-enhanced {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 15;
        }

        .style-card:hover .card-preview-enhanced {
            opacity: 1;
        }

        .preview-zoom {
            position: absolute;
            inset: -10px;
            background: var(--bg-card);
            border: 2px solid var(--accent);
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
        }

        /* === BREADCRUMB NAVIGATION === */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 2rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            font-size: 0.875rem;
        }

        .breadcrumb-item {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb-item:hover {
            color: var(--accent-light);
        }

        .breadcrumb-item.active {
            color: var(--text-primary);
            font-weight: 500;
        }

        .breadcrumb-separator {
            color: var(--text-muted);
        }

        /* === LOADING PROGRESS BAR === */
        .loading-progress {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--bg-tertiary);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .loading-progress.visible {
            opacity: 1;
        }

        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* === DESIGN TOKEN INSPECTOR MODAL === */
        .token-inspector-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 5000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .token-inspector-modal.visible {
            display: flex;
        }

        .token-inspector-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 1rem;
            width: 100%;
            max-width: 1200px;
            max-height: 85vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .token-inspector-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .token-inspector-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .token-inspector-tabs {
            display: flex;
            gap: 0.5rem;
            padding: 0 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .token-tab {
            padding: 0.75rem 1.25rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .token-tab:hover {
            color: var(--text-primary);
        }

        .token-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .token-inspector-body {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .token-section {
            margin-bottom: 2rem;
        }

        .token-section h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .token-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }

        .token-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            transition: all 0.2s;
        }

        .token-item:hover {
            border-color: var(--accent);
        }

        .token-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .token-name {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-primary);
            font-family: monospace;
        }

        .token-copy-btn {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.25rem;
            padding: 0.25rem 0.5rem;
            color: var(--text-secondary);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .token-copy-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .token-value {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-family: monospace;
            word-break: break-all;
        }

        .color-swatch-large {
            width: 100%;
            height: 60px;
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
            border: 1px solid var(--border);
        }

        .export-options {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .export-btn {
            padding: 0.625rem 1.25rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .export-btn:hover {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.1);
        }

        .export-btn.primary {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .export-btn.primary:hover {
            background: var(--accent-light);
        }

        /* === STYLE COMPARISON MATRIX === */
        .comparison-matrix-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 5000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .comparison-matrix-modal.visible {
            display: flex;
        }

        .comparison-matrix-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 1rem;
            width: 100%;
            max-width: 1400px;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .comparison-matrix-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comparison-matrix-body {
            flex: 1;
            overflow: auto;
            padding: 1.5rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .comparison-table th {
            background: var(--bg-tertiary);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            color: var(--text-secondary);
        }

        .comparison-table tr:hover td {
            background: var(--bg-tertiary);
        }

        .difference-highlight {
            background: rgba(245, 158, 11, 0.1);
            border-left: 3px solid var(--warning);
            padding-left: 0.75rem !important;
        }

        /* === INTERACTIVE PREVIEW TOOLBAR === */
        .preview-toolbar {
            position: absolute;
            bottom: 0.75rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 2rem;
            padding: 0.5rem;
            display: flex;
            gap: 0.25rem;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 25;
        }

        .style-card:hover .preview-toolbar {
            opacity: 1;
        }

        .preview-tool-btn {
            width: 32px;
            height: 32px;
            background: transparent;
            border: none;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .preview-tool-btn:hover {
            background: rgba(59, 130, 246, 0.3);
        }

        .preview-tool-btn.active {
            background: var(--accent);
        }

        /* === AI RECOMMENDATIONS PANEL === */
        .ai-recommendations-panel {
            position: fixed;
            right: -400px;
            top: 0;
            bottom: 0;
            width: 400px;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border);
            z-index: 4000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            box-shadow: -4px 0 12px rgba(0, 0, 0, 0.3);
        }

        .ai-recommendations-panel.visible {
            right: 0;
        }

        .ai-panel-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-panel-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ai-badge {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.625rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
        }

        .ai-panel-body {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .ai-suggestion {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.2s;
        }

        .ai-suggestion:hover {
            border-color: var(--accent);
        }

        .ai-suggestion-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }

        .ai-suggestion-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .ai-confidence {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .ai-suggestion-reason {
            font-size: 0.8125rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 0.75rem;
        }

        .ai-suggestion-action {
            padding: 0.5rem 1rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 0.375rem;
            font-size: 0.8125rem;
            cursor: pointer;
            width: 100%;
            transition: background 0.2s;
        }

        .ai-suggestion-action:hover {
            background: var(--accent-light);
        }

        /* === ENHANCED MOBILE RESPONSIVENESS === */
        @media (max-width: 640px) {
            /* Header adjustments */
            .header {
                padding: 0.75rem 1rem;
            }

            .logo {
                font-size: 1.25rem;
            }

            .logo-badge {
                font-size: 0.5625rem;
                padding: 0.2rem 0.5rem;
            }

            .theme-toggle {
                padding: 0.375rem;
            }

            /* Search */
            .search-input {
                font-size: 1rem; /* Prevents iOS zoom */
                padding: 0.625rem 1rem 0.625rem 2.5rem;
            }

            /* Controls bar */
            .controls-bar {
                padding: 0.75rem 1rem;
                top: 60px;
            }

            .filter-tabs {
                gap: 0.375rem;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                padding-bottom: 0.5rem;
            }

            .filter-tabs::-webkit-scrollbar {
                display: none;
            }

            .filter-tab {
                padding: 0.375rem 0.75rem;
                font-size: 0.75rem;
                white-space: nowrap;
                flex-shrink: 0;
            }

            .filter-count {
                font-size: 0.625rem;
                padding: 0.1rem 0.375rem;
            }

            /* View controls */
            .view-controls {
                gap: 0.375rem;
            }

            .quick-jump {
                display: none; /* Hide on mobile */
            }

            .action-btn {
                padding: 0.375rem 0.75rem;
                font-size: 0.75rem;
            }

            .compare-toggle span:not(.compare-badge) {
                display: none; /* Hide "Compare" text */
            }

            .sort-select {
                font-size: 0.75rem;
                padding: 0.375rem 0.5rem;
            }

            .view-btn {
                padding: 0.375rem;
            }

            .view-btn svg {
                width: 16px;
                height: 16px;
            }

            /* Main content */
            .main {
                padding: 1rem;
            }

            .results-header {
                margin-bottom: 1rem;
            }

            .results-count {
                font-size: 0.8125rem;
            }

            /* Style cards */
            .style-grid {
                gap: 1rem;
            }

            .card-preview {
                height: 160px;
            }

            .card-content {
                padding: 0.75rem;
            }

            .card-number {
                font-size: 0.625rem;
            }

            .card-title {
                font-size: 0.9375rem;
            }

            .card-blend {
                font-size: 0.75rem;
                margin-bottom: 0.5rem;
            }

            .tag {
                font-size: 0.625rem;
                padding: 0.2rem 0.375rem;
            }

            .color-swatch {
                width: 14px;
                height: 14px;
            }

            /* Favorite button adjustments */
            .favorite-btn {
                width: 28px;
                height: 28px;
            }

            .favorite-btn svg {
                width: 14px;
                height: 14px;
            }

            /* Compare checkbox adjustments */
            .compare-checkbox {
                width: 22px;
                height: 22px;
            }

            .compare-checkbox svg {
                width: 12px;
                height: 12px;
            }

            /* Recently viewed */
            .recently-viewed {
                padding: 1rem;
                margin-bottom: 1rem;
            }

            .recent-header h3 {
                font-size: 0.9375rem;
            }

            /* Keyboard shortcuts panel */
            .keyboard-shortcuts {
                right: 1rem;
                bottom: 1rem;
                max-width: calc(100vw - 2rem);
                padding: 1rem;
            }

            .keyboard-hint {
                right: 1rem;
                bottom: 1rem;
                font-size: 0.6875rem;
                padding: 0.375rem 0.75rem;
            }

            /* Footer */
            .footer {
                padding: 2rem 1rem;
            }

            .footer-logo {
                font-size: 1rem;
            }

            .footer-text {
                font-size: 0.75rem;
            }

            /* Comparison modal on mobile */
            .comparison-header {
                padding: 0.75rem 1rem;
            }

            .comparison-title {
                font-size: 1rem;
            }

            .comparison-close {
                padding: 0.375rem 0.75rem;
                font-size: 0.8125rem;
            }

            .comparison-pane-header {
                padding: 0.75rem;
            }

            .comparison-pane-title {
                font-size: 0.8125rem;
            }

            .comparison-pane-subtitle {
                font-size: 0.6875rem;
            }
        }

        /* Touch-friendly interactions */
        @media (hover: none) and (pointer: coarse) {
            /* Always show favorite/compare/collection buttons on touch devices */
            .favorite-btn,
            .collection-btn {
                opacity: 0.85;
            }

            .compare-checkbox {
                opacity: 0.85;
            }

            /* Larger touch targets */
            .filter-tab {
                min-height: 44px;
                display: flex;
                align-items: center;
            }

            .action-btn,
            .view-btn {
                min-height: 44px;
                min-width: 44px;
            }

            /* Disable hover transform on touch */
            .style-card:hover {
                transform: none;
            }

            .style-card:active {
                transform: scale(0.98);
            }
        }

        /* Very small screens */
        @media (max-width: 375px) {
            .header-inner {
                gap: 0.5rem;
            }

            .logo {
                font-size: 1.125rem;
            }

            .logo-badge {
                display: none;
            }

            .filter-tab {
                padding: 0.375rem 0.625rem;
            }

            .card-preview {
                height: 140px;
            }
        }

        /* Landscape orientation on mobile */
        @media (max-height: 500px) and (orientation: landscape) {
            .header {
                position: relative;
            }

            .controls-bar {
                position: relative;
                top: 0;
            }

            .comparison-content {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to Content Link -->
    <a href="#styleGrid" class="skip-to-content">Skip to styles</a>

    <header class="header">
        <div class="header-inner">
            <div class="logo-section">
                <span class="logo">Lobbi Design System</span>
                <span class="logo-badge">210 Styles</span>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search styles, categories, colors..." list="searchSuggestions" autocomplete="off">
                    <datalist id="searchSuggestions"></datalist>
                    <!-- Search History Dropdown -->
                    <div class="search-history" id="searchHistory">
                        <div class="search-history-header">
                            <span>Recent Searches</span>
                            <button class="clear-history-btn" id="clearSearchHistory">Clear</button>
                        </div>
                        <div id="searchHistoryList"></div>
                    </div>
                </div>
                <!-- ARIA live region for search results announcements -->
                <div id="searchAnnouncer" aria-live="polite" aria-atomic="true" style="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;"></div>
            </div>

            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value">210</div>
                    <div class="stat-label">Styles</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">13</div>
                    <div class="stat-label">Categories</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">2-5</div>
                    <div class="stat-label">Style Blend</div>
                </div>
            </div>

            <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode">
                <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
        </div>
    </header>

    <div class="controls-bar">
        <div class="controls-inner">
            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all">All <span class="filter-count">210</span></button>
                <button class="filter-tab" data-filter="favorites" id="favoritesTab">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    Favorites <span class="filter-count" id="favoritesCount">0</span>
                </button>
                <button class="filter-tab" data-filter="collections" id="collectionsTab">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                    </svg>
                    Collections <span class="filter-count" id="collectionsCount">0</span>
                </button>
                <button class="filter-tab" data-filter="association">Association <span class="filter-count">45</span></button>
                <button class="filter-tab" data-filter="premium">Premium <span class="filter-count">28</span></button>
                <button class="filter-tab" data-filter="professional">Professional <span class="filter-count">34</span></button>
                <button class="filter-tab" data-filter="tech">Technology <span class="filter-count">22</span></button>
                <button class="filter-tab" data-filter="creative">Creative <span class="filter-count">17</span></button>
                <button class="filter-tab" data-filter="hospitality">Hospitality <span class="filter-count">15</span></button>
                <button class="filter-tab" data-filter="academic">Academic <span class="filter-count">10</span></button>
                <button class="filter-tab" data-filter="media">Media <span class="filter-count">11</span></button>
            </div>

            <div class="view-controls">
                <div class="quick-jump">
                    <input type="number" class="quick-jump-input" id="quickJumpInput" placeholder="Jump to #..." min="1" max="210" aria-label="Jump to style number">
                </div>
                <button class="action-btn random" id="randomBtn" title="Random Style" aria-label="View random style">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16 3 21 3 21 8"></polyline>
                        <line x1="4" y1="20" x2="21" y2="3"></line>
                        <polyline points="21 16 21 21 16 21"></polyline>
                        <line x1="15" y1="15" x2="21" y2="21"></line>
                        <line x1="4" y1="4" x2="9" y2="9"></line>
                    </svg>
                    Random
                </button>
                <button class="compare-toggle" id="compareToggle" title="Compare Styles" aria-label="Toggle comparison mode">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="8" height="18" rx="1"/>
                        <rect x="13" y="3" width="8" height="18" rx="1"/>
                    </svg>
                    Compare
                    <span class="compare-badge" id="compareBadge">0/2</span>
                </button>
                <button class="action-btn" id="collectionsBtn" title="Manage Collections" aria-label="Manage style collections">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                    </svg>
                    Collections
                </button>
                <button class="action-btn" id="aiSuggestionsBtn" title="AI Style Suggestions" aria-label="Get AI-powered style suggestions" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1)); border-color: #8b5cf6;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    AI Suggestions
                </button>
                <button class="action-btn" id="comparisonMatrixBtn" title="Compare Multiple Styles" aria-label="Open comparison matrix">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="21" x2="9" y2="9"></line>
                    </svg>
                    Matrix
                </button>
                <select class="sort-select" id="sortSelect" aria-label="Sort styles">
                    <option value="number">Sort by Number</option>
                    <option value="name">Sort by Name</option>
                    <option value="formality">Sort by Formality</option>
                    <option value="temperature">Sort by Temperature</option>
                </select>
                <button class="view-btn active" id="gridView" title="Grid View" aria-label="Grid view">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
                    </svg>
                </button>
                <button class="view-btn" id="listView" title="List View" aria-label="List view">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/>
                        <line x1="3" y1="18" x2="21" y2="18"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Quick Filters -->
    <div class="quick-filters" id="quickFilters">
        <div class="quick-filter-chip" data-filters="premium,tech">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            Premium Tech
        </div>
        <div class="quick-filter-chip" data-filters="creative,media">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2l2 7h7l-5.5 4.5 2 7L12 17l-5.5 3.5 2-7L3 9h7l2-7z"/>
            </svg>
            Creative & Media
        </div>
        <div class="quick-filter-chip" data-filters="association,professional">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="16" rx="2"/>
            </svg>
            Professional Assoc.
        </div>
        <div class="quick-filter-chip" data-filters="premium,hospitality">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            </svg>
            Luxury & Hospitality
        </div>
    </div>

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" id="breadcrumb" aria-label="Breadcrumb">
        <a href="#" class="breadcrumb-item" id="breadcrumbHome">Home</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active" id="breadcrumbCurrent">All Styles</span>
    </nav>

    <!-- Loading Progress Bar -->
    <div class="loading-progress" id="loadingProgress">
        <div class="loading-progress-bar" id="loadingProgressBar"></div>
    </div>

    <main class="main">
        <!-- Recently Viewed Section -->
        <section id="recentlyViewed" class="recently-viewed hidden">
            <div class="recent-header">
                <h3>Recently Viewed</h3>
                <button class="clear-recent-btn" id="clearRecentBtn" aria-label="Clear recently viewed">Clear</button>
            </div>
            <div class="recent-styles-grid" id="recentStylesGrid"></div>
        </section>

        <div class="results-header">
            <span class="results-count">Showing <strong id="resultCount">210</strong> styles</span>
        </div>

        <div class="style-grid" id="styleGrid">
            <!-- Styles will be dynamically generated -->
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <h3>No styles found</h3>
            <p>Try adjusting your search or filters</p>
        </div>
    </main>

    <footer class="footer">
        <p class="footer-logo">Lobbi Design System</p>
        <p class="footer-text">210 Ultrathink-powered style blends | 2-5 way blending methodology | Government  Nonprofit  Association management excellence</p>
        <p class="footer-text" style="margin-top: 0.5rem; font-size: 0.8125rem;">
            Version 1.0 | Last updated: December 2024 |
            <a href="https://github.com/markus41/lobbi-design-system" style="color: var(--accent-light); text-decoration: none;" target="_blank">Documentation</a>
        </p>
    </footer>

    <!-- Comparison Modal -->
    <div class="comparison-modal" id="comparisonModal">
        <div class="comparison-header">
            <span class="comparison-title">Style Comparison</span>
            <button class="comparison-close" id="comparisonClose">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
                Close
            </button>
        </div>
        <div class="comparison-content">
            <div class="comparison-pane" id="comparisonPane1">
                <div class="comparison-empty" id="comparisonEmpty1">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <line x1="12" y1="8" x2="12" y2="16"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                    </svg>
                    <span>Select a style to compare</span>
                </div>
                <div class="comparison-pane-header" id="comparisonHeader1" style="display:none;">
                    <div class="comparison-pane-title" id="comparisonTitle1"></div>
                    <div class="comparison-pane-subtitle" id="comparisonSubtitle1"></div>
                </div>
                <div class="comparison-pane-iframe" id="comparisonIframe1" style="display:none;">
                    <iframe id="iframe1"></iframe>
                </div>
            </div>
            <div class="comparison-pane" id="comparisonPane2">
                <div class="comparison-empty" id="comparisonEmpty2">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <line x1="12" y1="8" x2="12" y2="16"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                    </svg>
                    <span>Select a style to compare</span>
                </div>
                <div class="comparison-pane-header" id="comparisonHeader2" style="display:none;">
                    <div class="comparison-pane-title" id="comparisonTitle2"></div>
                    <div class="comparison-pane-subtitle" id="comparisonSubtitle2"></div>
                </div>
                <div class="comparison-pane-iframe" id="comparisonIframe2" style="display:none;">
                    <iframe id="iframe2"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Compare FAB (Floating Action Button) -->
    <button class="compare-fab" id="compareFab">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="8" height="18" rx="1"/>
            <rect x="13" y="3" width="8" height="18" rx="1"/>
        </svg>
        Compare Now
        <span class="fab-count" id="fabCount">0/2</span>
    </button>

    <!-- Performance Metrics Panel -->
    <div class="perf-panel" id="perfPanel">
        <div class="perf-header">
            <span class="perf-title">Performance</span>
            <button class="perf-close" id="perfClose" aria-label="Close performance panel"></button>
        </div>
        <div class="perf-metrics">
            <div class="perf-metric">
                <span class="perf-label">DOM Ready</span>
                <span class="perf-value" id="perfDomReady">--</span>
            </div>
            <div class="perf-metric">
                <span class="perf-label">Page Load</span>
                <span class="perf-value" id="perfPageLoad">--</span>
            </div>
            <div class="perf-metric">
                <span class="perf-label">Styles Rendered</span>
                <span class="perf-value" id="perfStylesRendered">--</span>
            </div>
            <div class="perf-metric">
                <span class="perf-label">Iframes Loaded</span>
                <span class="perf-value" id="perfIframesLoaded">0/0</span>
            </div>
            <div class="perf-metric">
                <span class="perf-label">Memory Usage</span>
                <span class="perf-value" id="perfMemory">--</span>
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts Panel -->
    <div class="keyboard-shortcuts" id="keyboardShortcuts">
        <div class="shortcuts-header">
            <span class="shortcuts-title">Keyboard Shortcuts</span>
            <button class="shortcuts-close" id="shortcutsClose" aria-label="Close shortcuts panel">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Focus search</span>
            <kbd class="shortcut-key">/</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Toggle grid/list view</span>
            <kbd class="shortcut-key">G</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Random style</span>
            <kbd class="shortcut-key">R</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Compare mode / Open comparison</span>
            <kbd class="shortcut-key">C</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Show shortcuts</span>
            <kbd class="shortcut-key">?</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Performance panel</span>
            <kbd class="shortcut-key">Shift+P</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Navigate cards</span>
            <kbd class="shortcut-key"></kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">First/Last card</span>
            <kbd class="shortcut-key">Home/End</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Open focused style</span>
            <kbd class="shortcut-key">Enter</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Toggle favorite (when card focused)</span>
            <kbd class="shortcut-key">F</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Quick filter (1-9)</span>
            <kbd class="shortcut-key">1-9</kbd>
        </div>
        <div class="shortcut-item">
            <span class="shortcut-label">Close shortcuts</span>
            <kbd class="shortcut-key">ESC</kbd>
        </div>
    </div>

    <!-- Keyboard Hint -->
    <div class="keyboard-hint" id="keyboardHint" title="Click to view keyboard shortcuts">
        Press <strong>?</strong> for shortcuts
    </div>

    <!-- Help Trigger Button -->
    <button class="help-trigger" id="helpTrigger" title="Show walkthrough" aria-label="Show help and walkthrough">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
    </button>

    <!-- Toast Notification -->
    <div class="toast-notification" id="toastNotification"></div>

    <!-- Walkthrough Modal -->
    <div class="walkthrough-overlay" id="walkthroughOverlay">
        <div class="walkthrough-modal">
            <div class="walkthrough-header">
                <h2>Welcome to Lobbi Design System</h2>
                <p>210 professionally curated styles for your next project</p>
            </div>
            <div class="walkthrough-content">
                <!-- Step 1: Browse & Search -->
                <div class="walkthrough-step active" data-step="1">
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Search & Filter</h4>
                            <p>Use the search bar to find styles by name, blend, or use case. Filter by category using the tabs below. Press <kbd>/</kbd> to focus search.</p>
                        </div>
                    </div>
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Browse 210 Styles</h4>
                            <p>Each card shows the style name, design blend, temperature rating, and "Perfect For" use cases. Click any card to view the full design.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Favorites & Collections -->
                <div class="walkthrough-step" data-step="2">
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Save Favorites</h4>
                            <p>Hover over any card and click the heart icon to save to favorites. Access your favorites using the "Favorites" tab. Press <kbd>F</kbd> when a card is focused.</p>
                        </div>
                    </div>
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Create Collections</h4>
                            <p>Organize styles into custom collections! Hover over a card and click the grid icon to add to a collection. Create new collections directly from the dropdown.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Compare & Export -->
                <div class="walkthrough-step" data-step="3">
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="8" height="18" rx="1"></rect>
                                <rect x="13" y="3" width="8" height="18" rx="1"></rect>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Compare Styles</h4>
                            <p>Click "Compare" in the controls bar, then select up to 2 styles to compare side-by-side. Press <kbd>C</kbd> to toggle compare mode.</p>
                        </div>
                    </div>
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Export Design Tokens</h4>
                            <p>When viewing a style, use the export panel to download CSS variables, Tailwind config, or JSON tokens for your project.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Keyboard & Settings -->
                <div class="walkthrough-step" data-step="4">
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect>
                                <path d="M6 8h.001M10 8h.001M14 8h.001M18 8h.001M8 12h.001M12 12h.001M16 12h.001M6 16h12"></path>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Keyboard Shortcuts</h4>
                            <p>Power users can use keyboard shortcuts for faster navigation. Press <kbd>?</kbd> anytime to see all available shortcuts.</p>
                        </div>
                    </div>
                    <div class="walkthrough-feature">
                        <div class="walkthrough-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                            </svg>
                        </div>
                        <div class="walkthrough-feature-content">
                            <h4>Dark/Light Mode</h4>
                            <p>Toggle between dark and light themes using the sun/moon icon. Press <kbd>D</kbd> to switch themes. Your preference is saved automatically.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="walkthrough-footer">
                <div class="walkthrough-dots">
                    <span class="walkthrough-dot active" data-dot="1"></span>
                    <span class="walkthrough-dot" data-dot="2"></span>
                    <span class="walkthrough-dot" data-dot="3"></span>
                    <span class="walkthrough-dot" data-dot="4"></span>
                </div>
                <div class="walkthrough-nav">
                    <button class="walkthrough-btn walkthrough-btn-secondary" id="walkthroughSkip">Skip</button>
                    <button class="walkthrough-btn walkthrough-btn-primary" id="walkthroughNext">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Collections Modal -->
    <div class="collections-modal" id="collectionsModal">
        <div class="collections-modal-content">
            <div class="collections-header">
                <h3>My Collections</h3>
                <button class="collections-close" id="collectionsClose"></button>
            </div>
            <div class="collections-new">
                <input type="text" id="newCollectionName" placeholder="New collection name..." maxlength="30">
                <button id="createCollectionBtn">Create</button>
            </div>
            <div class="collections-list" id="collectionsList">
                <!-- Collections will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Design Token Inspector Modal -->
    <div class="token-inspector-modal" id="tokenInspectorModal">
        <div class="token-inspector-content">
            <div class="token-inspector-header">
                <h2>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m8.66-15l-3 5.196M8.34 15.804l-3 5.196m12.526-16.5l-3 5.196m-8.856 6.108l-3 5.196"></path>
                    </svg>
                    Design Tokens
                </h2>
                <button onclick="closeTokenInspector()" class="shortcuts-close" aria-label="Close"></button>
            </div>
            
            <div class="token-inspector-tabs">
                <button class="token-tab active" data-tab="colors">Colors</button>
                <button class="token-tab" data-tab="typography">Typography</button>
                <button class="token-tab" data-tab="spacing">Spacing</button>
                <button class="token-tab" data-tab="export">Export</button>
            </div>
            
            <div class="token-inspector-body" id="tokenInspectorBody">
                <!-- Content will be dynamically populated -->
            </div>
        </div>
    </div>

    <!-- Comparison Matrix Modal -->
    <div class="comparison-matrix-modal" id="comparisonMatrixModal">
        <div class="comparison-matrix-content">
            <div class="comparison-matrix-header">
                <h2>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                    </svg>
                    Style Comparison Matrix
                </h2>
                <div style="display:flex;gap:0.75rem;">
                    <button class="export-btn" onclick="exportComparisonMatrix()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Export PDF
                    </button>
                    <button onclick="closeComparisonMatrix()" class="shortcuts-close" aria-label="Close"></button>
                </div>
            </div>
            
            <div class="comparison-matrix-body" id="comparisonMatrixBody">
                <!-- Content will be dynamically populated -->
            </div>
        </div>
    </div>

    <!-- AI Recommendations Panel -->
    <div class="ai-recommendations-panel" id="aiRecommendationsPanel">
        <div class="ai-panel-header">
            <h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                </svg>
                Smart Suggestions
                <span class="ai-badge">AI</span>
            </h3>
            <button onclick="closeAIPanel()" class="shortcuts-close" aria-label="Close"></button>
        </div>
        
        <div class="ai-panel-body" id="aiPanelBody">
            <!-- Suggestions will be dynamically populated -->
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </button>

    <script>
        // Style data - comprehensive catalog
        const styles = [
            // Original styles 1-20
            { num: 1, name: "Byzantine Luxury", blend: "Byzantine 80% + Luxury Dark 20%", tags: ["premium", "heritage"], temp: 5, formality: 9, preview: "preview-heritage", perfectFor: ["Heritage Organizations","Religious Institutions","Museums"], file: "style-1-byzantine-luxury.html" },
            { num: 2, name: "Streamline Moderne", blend: "Art Deco 80% + Streamline 20%", tags: ["creative"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Design Studios","Creative Agencies","Architecture Firms"], file: "style-2-streamline-moderne.html" },
            { num: 3, name: "Quiet Luxury", blend: "Quiet Luxury 80% + Minimal 20%", tags: ["premium"], temp: 6, formality: 8, preview: "preview-light", perfectFor: ["Luxury Brands","Premium Services","Private Wealth"], file: "style-3-quiet-luxury.html" },
            { num: 4, name: "Japandi + Glass", blend: "Japandi 80% + Glassmorphism 20%", tags: ["creative"], temp: 5, formality: 6, preview: "preview-light", perfectFor: ["Wellness Brands","Design Studios","Lifestyle Products"], file: "style-4-japandi-glass.html" },
            { num: 5, name: "Swiss + Aurora", blend: "Swiss 80% + Aurora UI 20%", tags: ["professional"], temp: 3, formality: 8, preview: "preview-corporate", perfectFor: ["Consulting Firms","Professional Services","Corporate"], file: "style-5-swiss-aurora.html" },
            { num: 6, name: "Art Deco Cyberpunk", blend: "Art Deco 60% + Cyberpunk 40%", tags: ["creative"], temp: 3, formality: 7, preview: "preview-dark", perfectFor: ["Tech Startups","Gaming Companies","Creative Agencies"], file: "style-6-deco-cyberpunk.html" },
            { num: 7, name: "Neubrutalism Memphis", blend: "Neubrutalism 75% + Memphis 25%", tags: ["creative"], temp: 6, formality: 4, preview: "preview-creative", perfectFor: ["Design Studios","Creative Agencies","Modern Brands"], file: "style-7-neubrutalism-memphis.html" },
            { num: 8, name: "Scandinavian Bento", blend: "Scandinavian 75% + Bento Grid 25%", tags: ["professional"], temp: 6, formality: 6, preview: "preview-light", perfectFor: ["SaaS Companies","Tech Startups","Modern Business"], file: "style-8-scandi-bento.html" },
            { num: 9, name: "Dark Academia", blend: "Dark Academia 80% + Lobbi Brand 20%", tags: ["premium", "academic"], temp: 4, formality: 8, preview: "preview-dark", perfectFor: ["Universities","Libraries","Academic Institutions"], file: "style-9-dark-academia-lobbi.html" },
            { num: 10, name: "Vaporwave Y2K", blend: "Vaporwave 70% + Y2K 30%", tags: ["creative"], temp: 5, formality: 3, preview: "preview-creative", perfectFor: ["Creative Agencies","Entertainment Brands","Media Companies"], file: "style-10-vaporwave-y2k.html" },
            { num: 11, name: "Solarpunk Biophilic", blend: "Solarpunk 70% + Biophilic 30%", tags: ["tech"], temp: 7, formality: 5, preview: "preview-nature", perfectFor: ["Sustainability Orgs","Environmental Groups","Green Tech"], file: "style-11-solarpunk-biophilic.html" },
            { num: 12, name: "Brutalist Concrete", blend: "Web Brutalism 75% + Concrete 25%", tags: ["creative"], temp: 3, formality: 6, preview: "preview-light", perfectFor: ["Architecture Firms","Design Studios","Modern Brands"], file: "style-12-brutalist-concrete.html" },
            { num: 13, name: "Corporate Refinement", blend: "Quiet Luxury 80% + Corporate 20%", tags: ["premium", "professional"], temp: 5, formality: 9, preview: "preview-light", perfectFor: ["Executive Services","Premium Consulting","Corporate Leaders"], file: "style-13-quiet-luxury.html" },
            { num: 14, name: "Editorial Swiss", blend: "Editorial 65% + Swiss 35%", tags: ["professional", "media"], temp: 4, formality: 8, preview: "preview-light", perfectFor: ["Publishers","Media Companies","News Organizations"], file: "style-14-editorial-swiss.html" },
            { num: 15, name: "Private Banking", blend: "Private Banking 70% + Classic Editorial 30%", tags: ["premium", "professional"], temp: 4, formality: 9, preview: "preview-finance", perfectFor: ["Private Banks","Wealth Management","Investment Firms"], file: "style-15-private-banking.html" },
            { num: 16, name: "Architect Portfolio", blend: "Architect's Portfolio 75% + Swiss Grid 25%", tags: ["professional"], temp: 2, formality: 8, preview: "preview-dark", perfectFor: ["Architecture Firms","Design Studios","Creative Professionals"], file: "style-16-architect-portfolio.html" },
            { num: 17, name: "Executive Suite", blend: "Executive Suite 65% + Material Design 3 35%", tags: ["professional"], temp: 5, formality: 8, preview: "preview-corporate", perfectFor: ["Corporate Headquarters","C-Suite Services","Executive Firms"], file: "style-17-executive-suite.html" },
            { num: 18, name: "Law Firm Premium", blend: "Law Firm Traditional 70% + Modern Conservative 30%", tags: ["premium", "professional"], temp: 4, formality: 10, preview: "preview-heritage", perfectFor: ["Law Firms","Legal Services","Attorney Associations"], file: "style-18-law-firm-premium.html" },
            { num: 19, name: "Luxury Hotel", blend: "Luxury Hospitality 75% + Minimalist Japanese 25%", tags: ["premium", "hospitality"], temp: 6, formality: 8, preview: "preview-hospitality", perfectFor: ["Luxury Hotels","Premium Resorts","5-Star Hospitality"], file: "style-19-luxury-hotel.html" },
            { num: 20, name: "Investment Fund", blend: "Investment Fund 70% + Data Visualization 30%", tags: ["professional", "tech"], temp: 3, formality: 8, preview: "preview-dark", perfectFor: ["Investment Firms","Hedge Funds","Financial Services"], file: "style-20-investment-fund.html" },
            // New styles 21-70
            { num: 21, name: "Wealth Management", blend: "Wealth Management 75% + Art Deco Elegance 25%", tags: ["premium", "professional"], temp: 5, formality: 9, preview: "preview-finance", perfectFor: ["Wealth Advisors","Private Banks","Asset Management"], file: "style-21-wealth-management.html" },
            { num: 22, name: "Fintech Modern", blend: "Fintech Modern 70% + Gradient Mesh 30%", tags: ["tech", "professional"], temp: 4, formality: 7, preview: "preview-tech", perfectFor: ["Digital Banks","Payment Platforms","Investment Apps"], file: "style-22-fintech-modern.html" },
            { num: 23, name: "Trading Terminal", blend: "Trading Terminal 80% + Neon Accents 20%", tags: ["tech", "professional"], temp: 2, formality: 8, preview: "preview-dark", perfectFor: ["Trading Platforms","Financial Tech","Investment Apps"], file: "style-23-trading-terminal.html" },
            { num: 24, name: "Insurance Premium", blend: "Insurance Premium 75% + Corporate Trust 25%", tags: ["professional"], temp: 5, formality: 9, preview: "preview-corporate", perfectFor: ["Insurance Companies","Risk Management","Financial Security"], file: "style-24-insurance-premium.html" },
            { num: 25, name: "Crypto Luxury", blend: "Crypto Luxury 70% + Dark Premium 30%", tags: ["tech", "premium"], temp: 3, formality: 8, preview: "preview-dark", perfectFor: ["Crypto Exchanges","Blockchain Startups","Web3 Projects"], file: "style-25-crypto-luxury.html" },
            { num: 26, name: "Real Estate Luxury", blend: "Real Estate Luxury 75% + Photography Focus 25%", tags: ["premium", "hospitality"], temp: 6, formality: 8, preview: "preview-luxury", perfectFor: ["Luxury Real Estate","Property Developers","Estate Agencies"], file: "style-26-real-estate-luxury.html" },
            { num: 27, name: "Consulting Elite", blend: "Consulting Elite 80% + Minimal Precision 20%", tags: ["professional"], temp: 3, formality: 9, preview: "preview-consulting", perfectFor: ["Strategy Consultants","Management Firms","Business Advisors"], file: "style-27-consulting-elite.html" },
            { num: 28, name: "Medical Premium", blend: "Medical Premium 75% + Clean Technology 25%", tags: ["professional", "tech"], temp: 4, formality: 8, preview: "preview-medical", perfectFor: ["Medical Practices","Healthcare Networks","Clinical Services"], file: "style-28-medical-premium.html" },
            { num: 29, name: "Dental Luxury", blend: "Dental Luxury 75% + Spa Calm 25%", tags: ["hospitality"], temp: 6, formality: 7, preview: "preview-light", perfectFor: ["Dental Practices","Cosmetic Dentistry","Oral Healthcare"], file: "style-29-dental-luxury.html" },
            { num: 30, name: "Pharmaceutical", blend: "Pharmaceutical 80% + Scientific Precision 20%", tags: ["professional", "tech"], temp: 3, formality: 9, preview: "preview-medical", perfectFor: ["Pharma Companies","Drug Manufacturers","Medical Research"], file: "style-30-pharmaceutical.html" },
            { num: 31, name: "Engineering Firm", blend: "Engineering Firm 75% + Blueprint Technical 25%", tags: ["professional", "tech"], temp: 3, formality: 8, preview: "preview-corporate", perfectFor: ["Engineering Firms","Technical Services","Infrastructure"], file: "style-31-engineering-firm.html" },
            { num: 32, name: "Accounting Premium", blend: "Accounting Premium 80% + Conservative Trust 20%", tags: ["professional"], temp: 4, formality: 9, preview: "preview-consulting", perfectFor: ["Accounting Firms","CPA Services","Financial Auditing"], file: "style-32-accounting-premium.html" },
            { num: 33, name: "Patent Law", blend: "Patent Law 75% + Technical Documentation 25%", tags: ["professional"], temp: 3, formality: 9, preview: "preview-consulting", perfectFor: ["Patent Attorneys","IP Law Firms","Tech Legal Services"], file: "style-33-patent-law.html" },
            { num: 34, name: "HR Enterprise", blend: "HR Enterprise 70% + People First 30%", tags: ["professional", "tech"], temp: 6, formality: 7, preview: "preview-tech", perfectFor: ["HR Consulting","Talent Management","Workforce Solutions"], file: "style-34-hr-enterprise.html" },
            { num: 35, name: "Yacht Club", blend: "Yacht Club 80% + Nautical Heritage 20%", tags: ["premium", "hospitality"], temp: 4, formality: 9, preview: "preview-finance", perfectFor: ["Yacht Clubs","Sailing Organizations","Maritime Societies"], file: "style-35-yacht-club.html" },
            { num: 36, name: "Golf Resort", blend: "Golf Resort 75% + Country Club 25%", tags: ["premium", "hospitality"], temp: 5, formality: 8, preview: "preview-nature", perfectFor: ["Golf Clubs","Country Clubs","Resort Communities"], file: "style-36-golf-resort.html" },
            { num: 37, name: "Spa Wellness", blend: "Spa Wellness 80% + Zen Minimalism 20%", tags: ["hospitality"], temp: 7, formality: 6, preview: "preview-nature", perfectFor: ["Spas","Wellness Centers","Retreat Centers"], file: "style-37-spa-wellness.html" },
            { num: 38, name: "Fine Dining", blend: "Fine Dining 80% + Michelin Star 20%", tags: ["premium", "hospitality"], temp: 6, formality: 9, preview: "preview-heritage", perfectFor: ["Fine Dining","Michelin Restaurants","Culinary Experiences"], file: "style-38-fine-dining.html" },
            { num: 39, name: "Private Aviation", blend: "Private Aviation 75% + Jet Set Luxury 25%", tags: ["premium"], temp: 4, formality: 9, preview: "preview-finance", perfectFor: ["Private Jet Services","Aviation Charter","Executive Travel"], file: "style-39-private-aviation.html" },
            { num: 40, name: "Watch Luxury", blend: "Watch Luxury 80% + Swiss Precision 20%", tags: ["premium"], temp: 5, formality: 9, preview: "preview-luxury", perfectFor: ["Luxury Watchmakers","Timepiece Boutiques","Horology Brands"], file: "style-40-watch-luxury.html" },
            { num: 41, name: "Jewelry Boutique", blend: "Jewelry Boutique 80% + Glamour 20%", tags: ["premium"], temp: 6, formality: 9, preview: "preview-luxury", perfectFor: ["Jewelry Brands","Luxury Boutiques","Fine Jewelry"], file: "style-41-jewelry-boutique.html" },
            { num: 42, name: "Art Gallery", blend: "Art Gallery 80% + Museum Curation 20%", tags: ["creative", "premium"], temp: 5, formality: 8, preview: "preview-light", perfectFor: ["Art Galleries","Museums","Cultural Institutions"], file: "style-42-art-gallery.html" },
            { num: 43, name: "AI Research", blend: "AI Research 75% + Scientific Publication 25%", tags: ["tech", "academic"], temp: 3, formality: 8, preview: "preview-tech", perfectFor: ["AI Research Labs","Tech Research","ML Companies"], file: "style-43-ai-research.html" },
            { num: 44, name: "Biotech Lab", blend: "Biotech Lab 75% + Modern Science 25%", tags: ["tech", "professional"], temp: 3, formality: 8, preview: "preview-nature", perfectFor: ["Biotech Firms","Life Sciences","Research Labs"], file: "style-44-biotech-lab.html" },
            { num: 45, name: "Aerospace", blend: "Aerospace 80% + Mission Control 20%", tags: ["tech", "professional"], temp: 2, formality: 9, preview: "preview-dark", perfectFor: ["Aerospace Companies","Space Industry","Aviation Tech"], file: "style-45-aerospace.html" },
            { num: 46, name: "Robotics", blend: "Robotics 75% + Industrial Clean 25%", tags: ["tech"], temp: 3, formality: 8, preview: "preview-dark", perfectFor: ["Robotics Companies","Automation Tech","AI Hardware"], file: "style-46-robotics.html" },
            { num: 47, name: "Quantum Computing", blend: "Quantum Computing 75% + Abstract Science 25%", tags: ["tech", "academic"], temp: 2, formality: 8, preview: "preview-tech", perfectFor: ["Quantum Computing","Advanced Research","Tech Labs"], file: "style-47-quantum-computing.html" },
            { num: 48, name: "Clean Energy", blend: "Clean Energy 75% + Sustainable Tech 25%", tags: ["tech"], temp: 6, formality: 7, preview: "preview-nature", perfectFor: ["Clean Energy Firms","Solar Companies","Sustainability Tech"], file: "style-48-clean-energy.html" },
            { num: 49, name: "Space Industry", blend: "Space Industry 80% + Cosmic Wonder 20%", tags: ["tech"], temp: 3, formality: 8, preview: "preview-dark", perfectFor: ["Space Companies","Aerospace","Satellite Services"], file: "style-49-space-industry.html" },
            { num: 50, name: "Cybersecurity", blend: "Cybersecurity 80% + Dark Trust 20%", tags: ["tech", "professional"], temp: 2, formality: 9, preview: "preview-dark", perfectFor: ["Security Firms","Cybersecurity","IT Security Services"], file: "style-50-cybersecurity.html" },
            { num: 51, name: "News Editorial", blend: "News Editorial 80% + Broadsheet Classic 20%", tags: ["media", "professional"], temp: 5, formality: 8, preview: "preview-light", perfectFor: ["News Organizations","Publications","Media Companies"], file: "style-51-news-editorial.html" },
            { num: 52, name: "Fashion Magazine", blend: "Fashion Magazine 80% + Vogue Elegance 20%", tags: ["media", "creative"], temp: 4, formality: 8, preview: "preview-dark", perfectFor: ["Fashion Publishers","Style Magazines","Luxury Media"], file: "style-52-fashion-magazine.html" },
            { num: 53, name: "Literary Journal", blend: "Literary Journal 80% + Academic Publishing 20%", tags: ["media", "academic"], temp: 5, formality: 8, preview: "preview-light", perfectFor: ["Literary Journals","Publishers","Writing Organizations"], file: "style-53-literary-journal.html" },
            { num: 54, name: "Music Label", blend: "Music Label 75% + Premium Audio 25%", tags: ["media", "creative"], temp: 6, formality: 7, preview: "preview-dark", perfectFor: ["Record Labels","Music Publishers","Audio Brands"], file: "style-54-music-label.html" },
            { num: 55, name: "Film Studio", blend: "Film Studio 80% + Cinematic Drama 20%", tags: ["media", "creative"], temp: 6, formality: 7, preview: "preview-dark", perfectFor: ["Film Studios","Production Companies","Entertainment"], file: "style-55-film-studio.html" },
            { num: 56, name: "Photography Pro", blend: "Photography Professional 80% + Gallery Minimal 20%", tags: ["media", "creative"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Photographers","Photography Studios","Visual Artists"], file: "style-56-photography-pro.html" },
            { num: 57, name: "Podcast Premium", blend: "Podcast Premium 75% + Audio Wave Aesthetic 25%", tags: ["media", "tech"], temp: 6, formality: 6, preview: "preview-tech", perfectFor: ["Podcast Networks","Audio Productions","Content Creators"], file: "style-57-podcast-premium.html" },
            { num: 58, name: "Streaming Platform", blend: "Streaming Platform 80% + Entertainment Premium 20%", tags: ["media", "tech"], temp: 4, formality: 5, preview: "preview-dark", perfectFor: ["Streaming Services","Entertainment Platforms","Media Tech"], file: "style-58-streaming-platform.html" },
            { num: 59, name: "Board Room", blend: "Board Room 80% + Executive Power 20%", tags: ["premium", "professional"], temp: 5, formality: 10, preview: "preview-heritage", perfectFor: ["Corporate Boards","Executive Councils","Leadership Groups"], file: "style-59-board-room.html" },
            { num: 60, name: "Fortune 500", blend: "Fortune 500 80% + Annual Report 20%", tags: ["professional"], temp: 4, formality: 9, preview: "preview-corporate", perfectFor: ["Fortune 500","Enterprise Corporations","Major Businesses"], file: "style-60-fortune-500.html" },
            { num: 61, name: "Startup Unicorn", blend: "Startup Unicorn 75% + VC Pitch Deck 25%", tags: ["tech", "professional"], temp: 6, formality: 7, preview: "preview-creative", perfectFor: ["Tech Startups","VC-Backed Companies","Innovation Labs"], file: "style-61-startup-unicorn.html" },
            { num: 62, name: "Non-Profit Premium", blend: "Non-Profit Premium 80% + Impact Storytelling 20%", tags: ["professional"], temp: 7, formality: 8, preview: "preview-nature", perfectFor: ["Nonprofits","Foundations","Social Impact Orgs"], file: "style-62-nonprofit-premium.html" },
            { num: 63, name: "University Ivy", blend: "University 80% + Ivy League Prestige 20%", tags: ["academic", "premium"], temp: 5, formality: 9, preview: "preview-academic", perfectFor: ["Universities","Ivy League Colleges","Academic Institutions"], file: "style-63-university-ivy.html" },
            { num: 64, name: "Think Tank", blend: "Think Tank 80% + Policy Research 20%", tags: ["academic", "professional"], temp: 4, formality: 9, preview: "preview-consulting", perfectFor: ["Think Tanks","Research Institutes","Policy Organizations"], file: "style-64-think-tank.html" },
            { num: 65, name: "Foundation", blend: "Foundation 80% + Philanthropy Heritage 20%", tags: ["premium", "professional"], temp: 5, formality: 9, preview: "preview-heritage", perfectFor: ["Foundations","Philanthropic Orgs","Charitable Trusts"], file: "style-65-foundation.html" },
            { num: 66, name: "Government Civic", blend: "Government 80% + Civic Trust 20%", tags: ["professional"], temp: 5, formality: 8, preview: "preview-corporate", perfectFor: ["Government Agencies","Public Services","Civic Organizations"], file: "style-66-government-civic.html" },
            { num: 67, name: "Auction House", blend: "Auction House 80% + Heritage Prestige 20%", tags: ["premium"], temp: 4, formality: 10, preview: "preview-finance", perfectFor: ["Auction Houses","Fine Art Sales","Collectibles Markets"], file: "style-67-auction-house.html" },
            { num: 68, name: "Wine Estate", blend: "Wine Estate 80% + Vineyard Terroir 20%", tags: ["premium", "hospitality"], temp: 6, formality: 8, preview: "preview-heritage", perfectFor: ["Wineries","Vineyards","Wine Estates"], file: "style-68-wine-estate.html" },
            { num: 69, name: "Equestrian", blend: "Equestrian 80% + Racing Heritage 20%", tags: ["premium", "hospitality"], temp: 5, formality: 9, preview: "preview-heritage", perfectFor: ["Equestrian Clubs","Horse Racing","Riding Organizations"], file: "style-69-equestrian.html" },
            { num: 70, name: "Luxury Auto", blend: "Luxury Auto 80% + Performance Engineering 20%", tags: ["premium", "tech"], temp: 4, formality: 9, preview: "preview-dark", perfectFor: ["Luxury Auto Brands","Car Dealerships","Automotive Clubs"], file: "style-70-luxury-auto.html" },
            // New Lobbi-focused Association styles 71-90
            { num: 71, name: "Chamber of Commerce", blend: "Chamber of Commerce 80% + Civic Authority 20%", tags: ["association", "professional"], temp: 5, formality: 8, preview: "preview-corporate", perfectFor: ["Local Chambers","Business Associations","Regional Councils"], file: "style-71-chamber-commerce.html" },
            { num: 72, name: "Trade Association", blend: "Trade Association 80% + Industry Standards 20%", tags: ["association", "professional"], temp: 4, formality: 9, preview: "preview-consulting", perfectFor: ["Trade Associations","Industry Groups","Sector Councils"], file: "style-72-trade-association.html" },
            { num: 73, name: "Professional Society", blend: "Professional Society 80% + Academic Excellence 20%", tags: ["association", "academic"], temp: 4, formality: 9, preview: "preview-heritage", perfectFor: ["Professional Societies","Industry Associations","Certification Bodies"], file: "style-73-professional-society.html" },
            { num: 74, name: "Alumni Association", blend: "Alumni Association 80% + Heritage Pride 20%", tags: ["association", "academic"], temp: 6, formality: 7, preview: "preview-academic", perfectFor: ["Alumni Associations","University Networks","Graduate Groups"], file: "style-74-alumni-association.html" },
            { num: 75, name: "Bar Association", blend: "Bar Association 80% + Legal Authority 20%", tags: ["association", "professional"], temp: 3, formality: 10, preview: "preview-heritage", perfectFor: ["Bar Associations","Legal Societies","Attorney Networks"], file: "style-75-bar-association.html" },
            { num: 76, name: "Medical Association", blend: "Medical Association 80% + Healthcare Authority 20%", tags: ["association", "professional"], temp: 4, formality: 9, preview: "preview-medical", perfectFor: ["Medical Associations","Physician Groups","Healthcare Networks"], file: "style-76-medical-association.html" },
            { num: 77, name: "Realtors Association", blend: "Realtors Association 80% + Property Excellence 20%", tags: ["association", "professional"], temp: 6, formality: 7, preview: "preview-corporate", perfectFor: ["Realtor Associations","Real Estate Boards","Agent Networks"], file: "style-77-realtors-association.html" },
            { num: 78, name: "Rotary Service Club", blend: "Rotary/Service Club 80% + Community Impact 20%", tags: ["association"], temp: 7, formality: 6, preview: "preview-corporate", perfectFor: ["Rotary Clubs","Service Organizations","Community Groups"], file: "style-78-rotary-service.html" },
            { num: 79, name: "Credit Union League", blend: "Credit Union 80% + Member-Owned Trust 20%", tags: ["association", "professional"], temp: 6, formality: 7, preview: "preview-corporate", perfectFor: ["Credit Unions","Member-Owned Banks","Financial Cooperatives"], file: "style-79-credit-union.html" },
            { num: 80, name: "HOA Management", blend: "Homeowners Association 80% + Community Management 20%", tags: ["association"], temp: 6, formality: 6, preview: "preview-nature", perfectFor: ["HOAs","Community Associations","Residential Boards"], file: "style-80-hoa.html" },
            { num: 81, name: "Teachers Union", blend: "Teachers Union 80% + Education Advocacy 20%", tags: ["association", "professional"], temp: 6, formality: 7, preview: "preview-academic", perfectFor: ["Teachers Unions","Education Associations","Faculty Groups"], file: "style-81-teachers-union.html" },
            { num: 82, name: "Nonprofit Alliance", blend: "Nonprofit Alliance 80% + Impact Network 20%", tags: ["association", "professional"], temp: 7, formality: 6, preview: "preview-creative", perfectFor: ["Nonprofit Networks","NGO Alliances","Impact Coalitions"], file: "style-82-nonprofit-alliance.html" },
            { num: 83, name: "Sports League", blend: "Sports League 80% + Athletic Excellence 20%", tags: ["association"], temp: 7, formality: 6, preview: "preview-corporate", perfectFor: ["Sports Leagues","Athletic Associations","Recreation Councils"], file: "style-83-sports-league.html" },
            { num: 84, name: "Veterans Organization", blend: "Veterans Organization 80% + Service Honor 20%", tags: ["association", "premium"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Veterans Groups","Military Associations","Service Organizations"], file: "style-84-veterans-org.html" },
            { num: 85, name: "Religious Denomination", blend: "Denominational HQ 80% + Faith Community 20%", tags: ["association"], temp: 6, formality: 7, preview: "preview-heritage", perfectFor: ["Religious Bodies","Faith Denominations","Church Networks"], file: "style-85-religious-denomination.html" },
            { num: 86, name: "Fraternal Organization", blend: "Fraternal Order 80% + Brotherhood Heritage 20%", tags: ["association", "premium"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Fraternal Orders","Brotherhood Organizations","Social Clubs"], file: "style-86-fraternal-org.html" },
            { num: 87, name: "Industry Council", blend: "Industry Council 80% + Sector Leadership 20%", tags: ["association", "professional"], temp: 4, formality: 9, preview: "preview-consulting", perfectFor: ["Industry Councils","Sector Leadership","Business Forums"], file: "style-87-industry-council.html" },
            { num: 88, name: "Cooperative Association", blend: "Cooperative Model 80% + Member Ownership 20%", tags: ["association"], temp: 7, formality: 6, preview: "preview-nature", perfectFor: ["Cooperatives","Member-Owned Orgs","Collective Groups"], file: "style-88-cooperative.html" },
            { num: 89, name: "Professional Network", blend: "Professional Network 80% + Career Excellence 20%", tags: ["association", "professional"], temp: 5, formality: 7, preview: "preview-tech", perfectFor: ["Professional Networks","Career Organizations","Industry Forums"], file: "style-89-professional-network.html" },
            { num: 90, name: "Membership Collective", blend: "Membership Collective 80% + Shared Purpose 20%", tags: ["association", "creative"], temp: 7, formality: 5, preview: "preview-creative", perfectFor: ["Membership Clubs","Social Collectives","Community Hubs"], file: "style-90-membership-collective.html" },
            // New 3-Way Blend Styles 91-120 (60/25/15 ratio)
            { num: 91, name: "Enterprise SaaS", blend: "Enterprise SaaS 60% + Swiss Typography 25% + Material Design 15%", tags: ["tech", "professional"], temp: 4, formality: 8, preview: "preview-corporate", perfectFor: ["SaaS Companies","Enterprise Software","B2B Platforms"], file: "style-91-enterprise-saas.html" },
            { num: 92, name: "Nordic Minimal", blend: "Scandinavian 60% + Japanese Minimalism 25% + Swiss Grid 15%", tags: ["creative", "professional"], temp: 6, formality: 6, preview: "preview-light", perfectFor: ["Design Agencies","Creative Studios","Modern Brands"], file: "style-92-nordic-minimal.html" },
            { num: 93, name: "Luxury Concierge", blend: "Five-Star Hospitality 60% + Art Deco 25% + Editorial 15%", tags: ["premium", "hospitality"], temp: 6, formality: 9, preview: "preview-heritage", perfectFor: ["Concierge Services","Luxury Lifestyle","VIP Services"], file: "style-93-luxury-concierge.html" },
            { num: 94, name: "Cyber Command", blend: "Mission Control 60% + Cyberpunk 25% + Military Precision 15%", tags: ["tech"], temp: 2, formality: 9, preview: "preview-dark", perfectFor: ["Cybersecurity Firms","Defense Tech","Security Operations"], file: "style-94-cyber-command.html" },
            { num: 95, name: "Organic Wellness", blend: "Biophilic Design 60% + Spa Serenity 25% + Sustainable Tech 15%", tags: ["hospitality", "creative"], temp: 8, formality: 5, preview: "preview-nature", perfectFor: ["Wellness Brands","Organic Products","Eco Lifestyle"], file: "style-95-organic-wellness.html" },
            { num: 96, name: "Investment Elite", blend: "Private Wealth 60% + Data Visualization 25% + Bloomberg 15%", tags: ["premium", "professional"], temp: 3, formality: 10, preview: "preview-finance", perfectFor: ["Investment Banks","Private Equity","Wealth Management"], file: "style-96-investment-elite.html" },
            { num: 97, name: "Creative Studio", blend: "Design Agency 60% + Memphis 25% + Bauhaus 15%", tags: ["creative"], temp: 6, formality: 4, preview: "preview-creative", perfectFor: ["Design Studios","Creative Agencies","Branding Firms"], file: "style-97-creative-studio.html" },
            { num: 98, name: "Academic Research", blend: "University Library 60% + Scientific Publishing 25% + Dark Academia 15%", tags: ["academic", "professional"], temp: 4, formality: 9, preview: "preview-academic", perfectFor: ["Research Institutes","Academic Centers","University Labs"], file: "style-98-academic-research.html" },
            { num: 99, name: "Sports Premium", blend: "Athletic Excellence 60% + Broadcast Media 25% + Premium Membership 15%", tags: ["media", "premium"], temp: 7, formality: 6, preview: "preview-dark", perfectFor: ["Sports Media","Athletic Brands","Premium Sports"], file: "style-99-sports-premium.html" },
            { num: 100, name: "Heritage Society", blend: "Historical Preservation 60% + Genealogy Research 25% + Classical Typography 15%", tags: ["premium", "academic"], temp: 5, formality: 9, preview: "preview-heritage", perfectFor: ["Heritage Societies","Genealogy Orgs","Historical Groups"], file: "style-100-heritage-society.html" },
            { num: 101, name: "Quantum Lab", blend: "Scientific Research 60% + Futuristic Tech 25% + Academic Precision 15%", tags: ["tech", "academic"], temp: 3, formality: 8, preview: "preview-tech", perfectFor: ["Quantum Labs","Advanced Research","Science Tech"], file: "style-101-quantum-lab.html" },
            { num: 102, name: "Maritime Guild", blend: "Nautical Heritage 60% + Trade Association 25% + Luxury Yacht 15%", tags: ["association", "premium"], temp: 5, formality: 8, preview: "preview-finance", perfectFor: ["Maritime Associations","Shipping Guilds","Nautical Societies"], file: "style-102-maritime-guild.html" },
            { num: 103, name: "Artisan Collective", blend: "Craftsman Guild 60% + E-commerce Modern 25% + Organic Natural 15%", tags: ["creative", "association"], temp: 7, formality: 5, preview: "preview-nature", perfectFor: ["Artisan Collectives","Craft Guilds","Maker Communities"], file: "style-103-artisan-collective.html" },
            { num: 104, name: "Aviation Elite", blend: "Private Aviation 60% + Aerospace Engineering 25% + VIP Concierge 15%", tags: ["premium", "tech"], temp: 4, formality: 9, preview: "preview-dark", perfectFor: ["Private Aviation","Jet Services","Executive Travel"], file: "style-104-aviation-elite.html" },
            { num: 105, name: "Music Conservatory", blend: "Classical Music 60% + Academic Institution 25% + Event Management 15%", tags: ["academic", "creative"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Music Schools","Conservatories","Performance Academies"], file: "style-105-music-conservatory.html" },
            { num: 106, name: "Green Energy", blend: "Sustainable Energy 60% + Data Dashboard 25% + Advocacy Platform 15%", tags: ["tech", "association"], temp: 7, formality: 6, preview: "preview-nature", perfectFor: ["Green Energy Orgs","Renewable Tech","Climate Groups"], file: "style-106-green-energy.html" },
            { num: 107, name: "Legal Summit", blend: "Law Firm Premium 60% + Conference Platform 25% + Knowledge Base 15%", tags: ["professional", "association"], temp: 3, formality: 10, preview: "preview-heritage", perfectFor: ["Legal Conferences","Law Associations","Attorney Networks"], file: "style-107-legal-summit.html" },
            { num: 108, name: "Culinary Guild", blend: "Fine Dining 60% + Professional Certification 25% + Recipe Archive 15%", tags: ["hospitality", "association"], temp: 6, formality: 7, preview: "preview-heritage", perfectFor: ["Culinary Institutes","Chef Associations","Food Guilds"], file: "style-108-culinary-guild.html" },
            { num: 109, name: "Architecture Forum", blend: "Architect Portfolio 60% + Professional Network 25% + Urban Planning 15%", tags: ["professional", "creative"], temp: 3, formality: 8, preview: "preview-light", perfectFor: ["Architect Associations","Design Forums","Urban Planning"], file: "style-109-architecture-forum.html" },
            { num: 110, name: "Philanthropy Circle", blend: "Foundation Giving 60% + Donor Network 25% + Nonprofit Excellence 15%", tags: ["premium", "association"], temp: 6, formality: 8, preview: "preview-heritage", perfectFor: ["Philanthropic Circles","Donor Networks","Giving Societies"], file: "style-110-philanthropy-circle.html" },
            { num: 111, name: "eSports Arena", blend: "Gaming/eSports 60% + Streaming Platform 25% + Tournament Management 15%", tags: ["tech", "media"], temp: 8, formality: 3, preview: "preview-dark", perfectFor: ["Esports Teams","Gaming Leagues","Tournament Platforms"], file: "style-111-esports-arena.html" },
            { num: 112, name: "Wine Society", blend: "Vineyard Estate 60% + Sommelier Certification 25% + Collector's Club 15%", tags: ["premium", "hospitality"], temp: 6, formality: 8, preview: "preview-heritage", perfectFor: ["Wine Clubs","Sommelier Societies","Collector Groups"], file: "style-112-wine-society.html" },
            { num: 113, name: "Blockchain DAO", blend: "Web3/Crypto 60% + Governance Platform 25% + Community Hub 15%", tags: ["tech"], temp: 4, formality: 5, preview: "preview-dark", perfectFor: ["DAOs","Crypto Communities","Blockchain Projects"], file: "style-113-blockchain-dao.html" },
            { num: 114, name: "Healthcare Network", blend: "Medical Professional 60% + Continuing Education 25% + Peer Collaboration 15%", tags: ["professional", "association"], temp: 4, formality: 9, preview: "preview-medical", perfectFor: ["Healthcare Networks","Medical Associations","Clinical Groups"], file: "style-114-healthcare-network.html" },
            { num: 115, name: "Fashion Council", blend: "High Fashion 60% + Industry Network 25% + Trend Forecasting 15%", tags: ["creative", "media"], temp: 5, formality: 8, preview: "preview-dark", perfectFor: ["Fashion Councils","Designer Networks","Style Associations"], file: "style-115-fashion-council.html" },
            { num: 116, name: "Motorsport Club", blend: "Racing Heritage 60% + Collector's Network 25% + Track Day Management 15%", tags: ["premium", "association"], temp: 6, formality: 7, preview: "preview-dark", perfectFor: ["Motorsport Clubs","Racing Associations","Car Enthusiasts"], file: "style-116-motorsport-club.html" },
            { num: 117, name: "Diplomatic Corps", blend: "Government Formal 60% + International Relations 25% + Secure Communications 15%", tags: ["professional"], temp: 4, formality: 10, preview: "preview-heritage", perfectFor: ["Diplomatic Corps","Foreign Service","International Relations"], file: "style-117-diplomatic-corps.html" },
            { num: 118, name: "Startup Accelerator", blend: "Startup/VC Culture 60% + Mentorship Network 25% + Demo Day 15%", tags: ["tech", "professional"], temp: 7, formality: 5, preview: "preview-creative", perfectFor: ["Startup Accelerators","VC Networks","Innovation Hubs"], file: "style-118-startup-accelerator.html" },
            { num: 119, name: "Meditation Sangha", blend: "Zen Minimalism 60% + Retreat Center 25% + Practice Tracking 15%", tags: ["hospitality", "creative"], temp: 8, formality: 4, preview: "preview-nature", perfectFor: ["Meditation Centers","Mindfulness Groups","Spiritual Communities"], file: "style-119-meditation-sangha.html" },
            { num: 120, name: "Space Pioneers", blend: "Space Industry 60% + Scientific Community 25% + Advocacy Platform 15%", tags: ["tech", "academic"], temp: 4, formality: 7, preview: "preview-dark", perfectFor: ["Space Organizations","Aerospace Advocacy","Space Tech"], file: "style-120-space-pioneers.html" },
            // 4+ Way Experimental Blends 121-135 (Government/Nonprofit/Association Management)
            { num: 121, name: "Civic Innovation Hub", blend: "Government Civic 40% + Startup Accelerator 25% + Swiss Typography 20% + Glassmorphism 15%", tags: ["professional", "association"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Innovation Hubs","Civic Tech","Government Innovation"], file: "style-121-civic-innovation-hub.html" },
            { num: 122, name: "Democratic Transparency", blend: "Government Civic 35% + Editorial Swiss 25% + Biophilic Design 20% + Aurora UI 20%", tags: ["professional", "association"], temp: 6, formality: 8, preview: "preview-light", perfectFor: ["Government Agencies","Public Transparency","Civic Initiatives"], file: "style-122-democratic-transparency.html" },
            { num: 123, name: "Public Service Excellence", blend: "Government Civic 30% + Quiet Luxury 25% + Scandinavian Bento 20% + Material Design 15% + Light Academia 10%", tags: ["premium", "professional", "association"], temp: 5, formality: 9, preview: "preview-light", perfectFor: ["Public Services","Government Excellence","Civic Leadership"], file: "style-123-public-service-excellence.html" },
            { num: 124, name: "Regulatory Modernization", blend: "Corporate Refinement 35% + Government Civic 30% + Fintech Modern 20% + Neumorphism 15%", tags: ["professional", "association"], temp: 4, formality: 9, preview: "preview-light", perfectFor: ["Regulatory Bodies","Government Agencies","Policy Makers"], file: "style-124-regulatory-modernization.html" },
            { num: 125, name: "Impact Collective", blend: "Nonprofit Alliance 35% + Solarpunk Biophilic 25% + Organic Modern 20% + Duotone 20%", tags: ["creative", "association"], temp: 7, formality: 7, preview: "preview-nature", perfectFor: ["Impact Networks","Nonprofit Alliances","Social Enterprise"], file: "style-125-impact-collective.html" },
            { num: 126, name: "Philanthropic Legacy", blend: "Foundation 30% + Heritage Society 25% + Art Deco Luxury 20% + Light Academia 15% + Pearlcore 10%", tags: ["premium", "association"], temp: 6, formality: 9, preview: "preview-heritage", perfectFor: ["Philanthropic Foundations","Legacy Donors","Charitable Trusts"], file: "style-126-philanthropic-legacy.html" },
            { num: 127, name: "Community Catalyst", blend: "Membership Collective 35% + Cottagecore 25% + Japandi 20% + Soft Pastel 20%", tags: ["creative", "association", "hospitality"], temp: 8, formality: 5, preview: "preview-light", perfectFor: ["Community Groups","Grassroots Orgs","Local Initiatives"], file: "style-127-community-catalyst.html" },
            { num: 128, name: "Advocacy Alliance", blend: "Trade Association 35% + Bold Typography 25% + Color Block 20% + Kinetic Typography UI 20%", tags: ["professional", "association", "media"], temp: 6, formality: 7, preview: "preview-corporate", perfectFor: ["Advocacy Groups","Policy Networks","Industry Advocates"], file: "style-128-advocacy-alliance.html" },
            { num: 129, name: "Member Ecosystem", blend: "Professional Network 30% + Bento Box UI 25% + Organic Modern 20% + Aurora UI 15% + Micro-interaction 10%", tags: ["tech", "association"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Member Platforms","Professional Networks","Community Tech"], file: "style-129-member-ecosystem.html" },
            { num: 130, name: "Credential Authority", blend: "Professional Society 35% + Swiss Typography 25% + Credentialing 20% + Skeleton UI 20%", tags: ["professional", "association"], temp: 3, formality: 9, preview: "preview-light", perfectFor: ["Certification Bodies","Professional Credentials","Standards Orgs"], file: "style-130-credential-authority.html" },
            { num: 131, name: "Industry Council Evolution", blend: "Industry Council 30% + Enterprise SaaS 25% + Data Visualization 25% + Dark Mode 20%", tags: ["tech", "association", "professional"], temp: 4, formality: 8, preview: "preview-dark", perfectFor: ["Industry Councils","Sector Leadership","Trade Forums"], file: "style-131-industry-council.html" },
            { num: 132, name: "Membership Renaissance", blend: "Membership Collective 25% + Art Nouveau 25% + Floral Garden 20% + Watercolor 15% + Editorial Minimalism 15%", tags: ["creative", "premium", "association"], temp: 7, formality: 6, preview: "preview-light", perfectFor: ["Creative Collectives","Member Organizations","Artistic Guilds"], file: "style-132-membership-renaissance.html" },
            { num: 133, name: "Professional Guild Modern", blend: "Trade Association 35% + Bauhaus 25% + Neo-Minimalism 20% + Geometric Abstract 20%", tags: ["professional", "association", "creative"], temp: 4, formality: 8, preview: "preview-light", perfectFor: ["Professional Guilds","Trade Associations","Craft Councils"], file: "style-133-professional-guild-modern.html" },
            { num: 134, name: "Association Intelligence", blend: "Think Tank 30% + AI Research 25% + Quantum Computing 25% + Holographic HUD 20%", tags: ["tech", "association"], temp: 3, formality: 8, preview: "preview-tech", perfectFor: ["Research Associations","Think Tanks","Intelligence Networks"], file: "style-134-association-intelligence.html" },
            { num: 135, name: "Global Standards Body", blend: "International Professional 30% + Diplomatic Corps 25% + Swiss Typography 20% + Corporate Minimalism 15% + Glassmorphism 10%", tags: ["premium", "professional", "association"], temp: 4, formality: 9, preview: "preview-corporate", perfectFor: ["Global Standards","International Bodies","Regulatory Authorities"], file: "style-135-global-standards-body.html" },
            // 2-Way Premium Blends 136-140
            { num: 136, name: "Minimal Wellness", blend: "Zen Minimalism 60% + Wellness Design 40%", tags: ["hospitality", "creative"], temp: 8, formality: 5, preview: "preview-nature", perfectFor: ["Wellness Centers","Spas","Mindfulness Brands"], file: "style-136-minimal-wellness.html" },
            { num: 137, name: "Heritage Modernist", blend: "Architectural Heritage 65% + Contemporary Minimalism 35%", tags: ["premium", "association"], temp: 4, formality: 8, preview: "preview-heritage", perfectFor: ["Heritage Organizations","Preservation Societies","Museums"], file: "style-137-heritage-modernist.html" },
            { num: 138, name: "Eco-Luxury Refined", blend: "Sustainable Design 55% + Quiet Luxury 45%", tags: ["premium", "creative"], temp: 6, formality: 8, preview: "preview-nature", perfectFor: ["Sustainable Luxury","Eco Premium Brands","Green Design"], file: "style-138-eco-luxury.html" },
            { num: 139, name: "Artisan Contemporary", blend: "Craftsmanship 60% + Bauhaus 40%", tags: ["creative", "professional"], temp: 6, formality: 6, preview: "preview-light", perfectFor: ["Artisan Brands","Contemporary Craft","Design Studios"], file: "style-139-artisan-contemporary.html" },
            { num: 140, name: "Accessible Professional Plus", blend: "Accessible Design 50% + Corporate Professional 50%", tags: ["professional", "association"], temp: 5, formality: 8, preview: "preview-light", perfectFor: ["Accessible Services","Inclusive Orgs","Universal Design"], file: "style-140-accessible-professional.html" },
            // Historical & Classical Styles 141-152
            { num: 141, name: "Art Nouveau Elegance", blend: "Art Nouveau 60% + Organic Modern 25% + Soft Pastel 15%", tags: ["creative", "premium"], temp: 7, formality: 7, preview: "preview-light", perfectFor: ["Art Galleries","Design Studios","Cultural Organizations"], file: "style-141-art-nouveau-elegance.html" },
            { num: 142, name: "Gothic Revival Digital", blend: "Gothic Architecture 55% + Dark Academia 25% + Editorial Swiss 20%", tags: ["premium", "academic"], temp: 4, formality: 9, preview: "preview-dark", perfectFor: ["Universities","Libraries","Heritage Institutions"], file: "style-142-gothic-revival-digital.html" },
            { num: 143, name: "Victorian Modernist", blend: "Victorian Era 50% + Contemporary Minimalism 30% + Typography Focus 20%", tags: ["premium", "professional"], temp: 5, formality: 8, preview: "preview-light", perfectFor: ["Heritage Brands","Classic Services","Traditional Business"], file: "style-143-victorian-modernist.html" },
            { num: 144, name: "Rococo Digital Garden", blend: "Rococo Style 55% + Soft Gradients 25% + Floral Organic 20%", tags: ["creative", "hospitality"], temp: 8, formality: 6, preview: "preview-light", perfectFor: ["Floral Brands","Garden Societies","Botanical Organizations"], file: "style-144-rococo-digital-garden.html" },
            { num: 145, name: "Neoclassical Authority", blend: "Neoclassical Architecture 60% + Government Civic 25% + Swiss Typography 15%", tags: ["professional", "association"], temp: 4, formality: 9, preview: "preview-light", perfectFor: ["Government Buildings","Civic Institutions","Public Services"], file: "style-145-neoclassical-authority.html" },
            { num: 146, name: "Renaissance Revival", blend: "Italian Renaissance 55% + Fine Art Gallery 25% + Editorial Luxury 20%", tags: ["premium", "creative"], temp: 6, formality: 8, preview: "preview-heritage", perfectFor: ["Fine Art Museums","Cultural Institutions","Art Organizations"], file: "style-146-renaissance-revival.html" },
            { num: 147, name: "Medieval Guild Hall", blend: "Medieval Design 50% + Craft Guild 30% + Heritage Dark 20%", tags: ["association", "premium"], temp: 5, formality: 7, preview: "preview-heritage", perfectFor: ["Traditional Guilds","Craft Associations","Heritage Groups"], file: "style-147-medieval-guild-hall.html" },
            { num: 148, name: "Baroque Grandeur", blend: "Baroque Architecture 55% + Dramatic Typography 25% + Opera House 20%", tags: ["premium", "hospitality"], temp: 6, formality: 9, preview: "preview-heritage", perfectFor: ["Opera Houses","Theaters","Performing Arts Centers"], file: "style-148-baroque-grandeur.html" },
            { num: 149, name: "Roman Empire Digital", blend: "Roman Classical 55% + Law Firm Authority 25% + Marble Material 20%", tags: ["professional", "association"], temp: 3, formality: 10, preview: "preview-light", perfectFor: ["Law Firms","Legal Institutions","Justice Organizations"], file: "style-149-roman-empire-digital.html" },
            { num: 150, name: "Ancient Egyptian Luxe", blend: "Egyptian Design 50% + Art Deco Geometry 30% + Luxury Gold 20%", tags: ["premium", "creative"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Luxury Museums","Cultural Heritage","Ancient Art"], file: "style-150-ancient-egyptian-luxe.html" },
            { num: 151, name: "Byzantine Contemporary", blend: "Byzantine Art 50% + Modern Orthodox 30% + Heritage Gold 20%", tags: ["premium", "heritage"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Religious Institutions","Orthodox Churches","Faith Communities"], file: "style-151-byzantine-contemporary.html" },
            { num: 152, name: "Colonial American Heritage", blend: "Colonial American 55% + Heritage Society 25% + Editorial Classic 20%", tags: ["association", "professional"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Heritage Societies","Historical Associations","Preservation Groups"], file: "style-152-colonial-american-heritage.html" },
            // Cultural & Regional Styles 153-164
            { num: 153, name: "Japanese Wabi-Sabi", blend: "Wabi-Sabi Philosophy 55% + Zen Minimalism 25% + Organic Natural 20%", tags: ["creative", "hospitality"], temp: 6, formality: 6, preview: "preview-light", perfectFor: ["Zen Centers","Japanese Culture","Minimalist Brands"], file: "style-153-japanese-wabi-sabi.html" },
            { num: 154, name: "Scandinavian Hygge", blend: "Danish Hygge 55% + Nordic Minimalism 25% + Cozy Warmth 20%", tags: ["hospitality", "creative"], temp: 8, formality: 5, preview: "preview-light", perfectFor: ["Nordic Brands","Scandinavian Lifestyle","Cozy Spaces"], file: "style-154-scandinavian-hygge.html" },
            { num: 155, name: "Moroccan Geometric", blend: "Moroccan Zellige 50% + Islamic Geometry 30% + Mediterranean Warmth 20%", tags: ["premium", "hospitality"], temp: 7, formality: 7, preview: "preview-heritage", perfectFor: ["Mediterranean Venues","Moroccan Brands","Cultural Centers"], file: "style-155-moroccan-geometric.html" },
            { num: 156, name: "Indian Mughal Luxury", blend: "Mughal Architecture 50% + Luxury India 30% + Ornamental Gold 20%", tags: ["premium", "creative"], temp: 7, formality: 8, preview: "preview-heritage", perfectFor: ["Indian Luxury","Cultural Heritage","Traditional Arts"], file: "style-156-indian-mughal-luxury.html" },
            { num: 157, name: "Chinese Imperial", blend: "Chinese Imperial 55% + Forbidden City 25% + Luxury Red 20%", tags: ["premium", "association"], temp: 6, formality: 9, preview: "preview-heritage", perfectFor: ["Chinese Organizations","Asian Heritage","Cultural Institutions"], file: "style-157-chinese-imperial.html" },
            { num: 158, name: "Greek Mediterranean", blend: "Greek Island 55% + Mediterranean Blue 25% + Whitewashed Architecture 20%", tags: ["hospitality", "creative"], temp: 7, formality: 6, preview: "preview-light", perfectFor: ["Greek Resorts","Mediterranean Hospitality","Island Venues"], file: "style-158-greek-mediterranean.html" },
            { num: 159, name: "African Kente", blend: "Kente Patterns 50% + African Craft 30% + Bold Geometric 20%", tags: ["creative", "association"], temp: 8, formality: 6, preview: "preview-creative", perfectFor: ["African Art","Cultural Organizations","Heritage Groups"], file: "style-159-african-kente.html" },
            { num: 160, name: "Celtic Heritage", blend: "Celtic Knotwork 50% + Irish Heritage 30% + Nature Organic 20%", tags: ["heritage", "association"], temp: 5, formality: 7, preview: "preview-heritage", perfectFor: ["Celtic Heritage","Irish Organizations","Cultural Societies"], file: "style-160-celtic-heritage.html" },
            { num: 161, name: "Persian Carpet", blend: "Persian Design 55% + Intricate Patterns 25% + Luxury Warmth 20%", tags: ["premium", "hospitality"], temp: 6, formality: 8, preview: "preview-heritage", perfectFor: ["Persian Culture","Middle Eastern Luxury","Heritage Brands"], file: "style-161-persian-carpet.html" },
            { num: 162, name: "Mexican Folk Art", blend: "Mexican Talavera 50% + Folk Art Vibrant 30% + Festive Color 20%", tags: ["creative", "hospitality"], temp: 9, formality: 4, preview: "preview-creative", perfectFor: ["Mexican Culture","Latin Arts","Festive Venues"], file: "style-162-mexican-folk-art.html" },
            { num: 163, name: "Nordic Rune", blend: "Viking Heritage 50% + Norse Mythology 30% + Modern Nordic 20%", tags: ["heritage", "association"], temp: 3, formality: 7, preview: "preview-dark", perfectFor: ["Nordic Heritage","Viking Culture","Scandinavian Groups"], file: "style-163-nordic-rune.html" },
            { num: 164, name: "Brazilian Carnival", blend: "Brazilian Carnival 50% + Tropical Vibrant 30% + Samba Energy 20%", tags: ["creative", "media"], temp: 9, formality: 3, preview: "preview-creative", perfectFor: ["Brazilian Culture","Carnival Events","Latin Entertainment"], file: "style-164-brazilian-carnival.html" },
            // Digital UI & Illustration Styles 165-176
            { num: 165, name: "Flat Design 2.0", blend: "Flat Design 55% + Subtle Shadows 25% + Bold Color 20%", tags: ["tech", "professional"], temp: 5, formality: 6, preview: "preview-light", perfectFor: ["SaaS Companies","Tech Startups","Modern Apps"], file: "style-165-flat-design-2.html" },
            { num: 166, name: "Skeuomorphic Revival", blend: "Skeuomorphism 50% + Realistic Textures 30% + Modern Polish 20%", tags: ["tech", "premium"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Premium Apps","Luxury Software","High-End Tech"], file: "style-166-skeuomorphic-revival.html" },
            { num: 167, name: "Isometric Illustration", blend: "Isometric Design 55% + Tech Illustration 25% + Playful Color 20%", tags: ["tech", "creative"], temp: 6, formality: 5, preview: "preview-tech", perfectFor: ["Tech Companies","SaaS Platforms","Digital Products"], file: "style-167-isometric-illustration.html" },
            { num: 168, name: "Line Art Minimal", blend: "Line Illustration 55% + Minimal Design 25% + Editorial Clean 20%", tags: ["creative", "professional"], temp: 4, formality: 7, preview: "preview-light", perfectFor: ["Design Agencies","Creative Studios","Minimal Brands"], file: "style-168-line-art-minimal.html" },
            { num: 169, name: "Gradient Mesh UI", blend: "Gradient Mesh 55% + Aurora Effects 25% + Glassmorphism 20%", tags: ["creative", "tech"], temp: 6, formality: 5, preview: "preview-creative", perfectFor: ["Creative Tech","Design Apps","Visual Platforms"], file: "style-169-gradient-mesh-ui.html" },
            { num: 170, name: "Duotone Photography", blend: "Duotone Effect 55% + Editorial Photo 25% + Bold Typography 20%", tags: ["media", "creative"], temp: 5, formality: 6, preview: "preview-dark", perfectFor: ["Photography Studios","Visual Media","Creative Agencies"], file: "style-170-duotone-photography.html" },
            { num: 171, name: "Low Poly 3D", blend: "Low Poly Art 55% + Geometric Abstract 25% + Tech Modern 20%", tags: ["tech", "creative"], temp: 5, formality: 5, preview: "preview-tech", perfectFor: ["Tech Startups","3D Companies","Gaming Studios"], file: "style-171-low-poly-3d.html" },
            { num: 172, name: "Watercolor Digital", blend: "Watercolor Art 55% + Organic Flow 25% + Soft Pastel 20%", tags: ["creative", "hospitality"], temp: 7, formality: 5, preview: "preview-light", perfectFor: ["Creative Brands","Artistic Services","Design Studios"], file: "style-172-watercolor-digital.html" },
            { num: 173, name: "Comic Book Pop", blend: "Comic Art 55% + Pop Culture 25% + Bold Graphic 20%", tags: ["creative", "media"], temp: 7, formality: 3, preview: "preview-creative", perfectFor: ["Entertainment Brands","Pop Culture","Media Companies"], file: "style-173-comic-book-pop.html" },
            { num: 174, name: "Pixel Art Retro", blend: "Pixel Art 55% + 8-bit Gaming 25% + Nostalgic Digital 20%", tags: ["creative", "tech"], temp: 6, formality: 3, preview: "preview-dark", perfectFor: ["Gaming Brands","Retro Tech","Nostalgic Products"], file: "style-174-pixel-art-retro.html" },
            { num: 175, name: "Sticker Playful", blend: "Sticker Design 55% + Kawaii Cute 25% + Rounded Friendly 20%", tags: ["creative", "hospitality"], temp: 8, formality: 2, preview: "preview-creative", perfectFor: ["Playful Brands","Youth Products","Friendly Services"], file: "style-175-sticker-playful.html" },
            { num: 176, name: "Blueprint Technical", blend: "Blueprint Design 55% + Technical Drawing 25% + Engineering 20%", tags: ["tech", "professional"], temp: 3, formality: 8, preview: "preview-dark", perfectFor: ["Engineering Firms","Technical Services","Industrial Design"], file: "style-176-blueprint-technical.html" },
            // Retro & Nostalgic Styles 177-188
            { num: 177, name: "1950s Diner", blend: "50s Americana 55% + Retro Diner 25% + Chrome Accent 20%", tags: ["hospitality", "creative"], temp: 7, formality: 4, preview: "preview-creative", perfectFor: ["Retro Diners","Vintage Restaurants","Nostalgic Venues"], file: "style-177-1950s-diner.html" },
            { num: 178, name: "1960s Mod", blend: "60s Mod 55% + Op Art 25% + Space Age 20%", tags: ["creative", "media"], temp: 6, formality: 4, preview: "preview-creative", perfectFor: ["Retro Brands","Vintage Shops","Nostalgic Services"], file: "style-178-1960s-mod.html" },
            { num: 179, name: "1970s Disco", blend: "Disco Era 55% + Groovy Typography 25% + Metallic Shine 20%", tags: ["creative", "media"], temp: 7, formality: 3, preview: "preview-dark", perfectFor: ["Entertainment Venues","Nightclubs","Retro Brands"], file: "style-179-1970s-disco.html" },
            { num: 180, name: "1980s Synthwave", blend: "Synthwave 55% + Neon Glow 25% + Grid Horizon 20%", tags: ["creative", "tech"], temp: 5, formality: 4, preview: "preview-dark", perfectFor: ["Retro Tech","Synthwave Brands","Gaming Companies"], file: "style-180-1980s-synthwave.html" },
            { num: 181, name: "1990s Grunge", blend: "90s Grunge 55% + Alternative Rock 25% + Distressed Texture 20%", tags: ["creative", "media"], temp: 4, formality: 2, preview: "preview-dark", perfectFor: ["Alternative Brands","Music Labels","Edgy Services"], file: "style-181-1990s-grunge.html" },
            { num: 182, name: "Y2K Millennium", blend: "Y2K Aesthetic 55% + Cyber Chrome 25% + Bubble Interface 20%", tags: ["tech", "creative"], temp: 5, formality: 4, preview: "preview-tech", perfectFor: ["Tech Nostalgia","Y2K Brands","Digital Services"], file: "style-182-y2k-millennium.html" },
            { num: 183, name: "Vintage Americana", blend: "Vintage USA 55% + Americana Heritage 25% + Rustic Charm 20%", tags: ["hospitality", "heritage"], temp: 6, formality: 5, preview: "preview-heritage", perfectFor: ["American Brands","Heritage Businesses","Traditional Services"], file: "style-183-vintage-americana.html" },
            { num: 184, name: "Art Deco Golden", blend: "Art Deco 55% + Gatsby Era 25% + Geometric Gold 20%", tags: ["premium", "hospitality"], temp: 5, formality: 8, preview: "preview-heritage", perfectFor: ["Luxury Hotels","Premium Events","Elegant Venues"], file: "style-184-art-deco-golden.html" },
            { num: 185, name: "Vintage Cinema", blend: "Classic Hollywood 55% + Film Noir 25% + Theater Marquee 20%", tags: ["media", "premium"], temp: 4, formality: 8, preview: "preview-dark", perfectFor: ["Film Festivals","Cinema Organizations","Entertainment Venues"], file: "style-185-vintage-cinema.html" },
            { num: 186, name: "Retro Computing", blend: "Early Computing 55% + Terminal Interface 25% + Amber CRT 20%", tags: ["tech", "creative"], temp: 3, formality: 6, preview: "preview-dark", perfectFor: ["Tech Retro","Computing History","Developer Tools"], file: "style-186-retro-computing.html" },
            { num: 187, name: "Victorian Steampunk", blend: "Steampunk 55% + Victorian Industrial 25% + Brass Machinery 20%", tags: ["creative", "premium"], temp: 5, formality: 7, preview: "preview-heritage", perfectFor: ["Alternative Fashion","Unique Brands","Creative Services"], file: "style-187-victorian-steampunk.html" },
            { num: 188, name: "Mid-Century Modern", blend: "Mid-Century 55% + Atomic Age 25% + Organic Modernism 20%", tags: ["creative", "professional"], temp: 6, formality: 6, preview: "preview-light", perfectFor: ["Modern Furniture","Design Brands","Contemporary Living"], file: "style-188-mid-century-modern.html" },
            // Texture, Motion & Gaming Styles 189-200
            { num: 189, name: "Paper Texture", blend: "Paper Material 55% + Print Design 25% + Tactile Craft 20%", tags: ["creative", "professional"], temp: 6, formality: 7, preview: "preview-light", perfectFor: ["Print Services","Publishing","Traditional Media"], file: "style-189-paper-texture.html" },
            { num: 190, name: "Concrete Brutalist", blend: "Concrete Material 55% + Brutalist Architecture 25% + Industrial Raw 20%", tags: ["creative", "professional"], temp: 3, formality: 7, preview: "preview-dark", perfectFor: ["Architecture Firms","Industrial Design","Modern Brands"], file: "style-190-concrete-brutalist.html" },
            { num: 191, name: "Wood Grain Natural", blend: "Wood Material 55% + Cabin Warmth 25% + Artisan Craft 20%", tags: ["hospitality", "creative"], temp: 7, formality: 5, preview: "preview-nature", perfectFor: ["Furniture Brands","Natural Products","Craft Businesses"], file: "style-191-wood-grain-natural.html" },
            { num: 192, name: "Marble Luxury", blend: "Marble Material 55% + Luxury Interior 25% + Classic Elegance 20%", tags: ["premium", "hospitality"], temp: 4, formality: 9, preview: "preview-light", perfectFor: ["Luxury Interior","High-End Design","Premium Services"], file: "style-192-marble-luxury.html" },
            { num: 193, name: "Kinetic Typography", blend: "Kinetic Type 55% + Motion Graphics 25% + Dynamic Layout 20%", tags: ["creative", "media"], temp: 5, formality: 5, preview: "preview-dark", perfectFor: ["Motion Design","Video Production","Creative Media"], file: "style-193-kinetic-typography.html" },
            { num: 194, name: "Parallax Depth", blend: "Parallax Effect 55% + 3D Layers 25% + Immersive Scroll 20%", tags: ["tech", "creative"], temp: 5, formality: 6, preview: "preview-tech", perfectFor: ["Interactive Media","Web Design","Digital Agencies"], file: "style-194-parallax-depth.html" },
            { num: 195, name: "Liquid Motion", blend: "Liquid Animation 55% + Morphing Shapes 25% + Fluid Dynamics 20%", tags: ["creative", "tech"], temp: 6, formality: 4, preview: "preview-creative", perfectFor: ["Animation Studios","Motion Design","Creative Tech"], file: "style-195-liquid-motion.html" },
            { num: 196, name: "Micro-Interaction Rich", blend: "Micro-interactions 55% + Feedback Design 25% + Delight Details 20%", tags: ["tech", "professional"], temp: 5, formality: 6, preview: "preview-light", perfectFor: ["UX Design","Tech Products","Interactive Services"], file: "style-196-micro-interaction-rich.html" },
            { num: 197, name: "RPG Fantasy", blend: "Fantasy RPG 55% + Medieval UI 25% + Quest Interface 20%", tags: ["creative", "tech"], temp: 5, formality: 5, preview: "preview-heritage", perfectFor: ["Gaming Companies","RPG Studios","Fantasy Brands"], file: "style-197-rpg-fantasy.html" },
            { num: 198, name: "Sci-Fi HUD", blend: "Sci-Fi Interface 55% + Holographic HUD 25% + Space Command 20%", tags: ["tech", "creative"], temp: 3, formality: 7, preview: "preview-dark", perfectFor: ["Tech Companies","Gaming Studios","Futuristic Brands"], file: "style-198-sci-fi-hud.html" },
            { num: 199, name: "Casual Mobile", blend: "Mobile Game UI 55% + Casual Gaming 25% + Achievement System 20%", tags: ["creative", "tech"], temp: 8, formality: 2, preview: "preview-creative", perfectFor: ["Mobile Games","Casual Gaming","App Studios"], file: "style-199-casual-mobile.html" },
            { num: 200, name: "Esports Arena", blend: "Esports Branding 55% + Tournament UI 25% + Stream Overlay 20%", tags: ["tech", "media"], temp: 6, formality: 4, preview: "preview-dark", perfectFor: ["Esports Organizations","Gaming Leagues","Tournament Platforms"], file: "style-200-esports-arena.html" },
            // Light, Dark & Emerging Styles 201-210
            { num: 201, name: "Pure Light Minimal", blend: "Ultra Light 55% + White Space 25% + Clean Typography 20%", tags: ["professional", "tech"], temp: 5, formality: 7, preview: "preview-light", perfectFor: ["Minimalist Brands","Clean Tech","Modern Services"], file: "style-201-pure-light-minimal.html" },
            { num: 202, name: "Warm Light Natural", blend: "Warm Light 55% + Natural Materials 25% + Soft Focus 20%", tags: ["hospitality", "creative"], temp: 7, formality: 6, preview: "preview-light", perfectFor: ["Wellness Brands","Natural Products","Holistic Services"], file: "style-202-warm-light-natural.html" },
            { num: 203, name: "Cool Light Professional", blend: "Cool Light 55% + Corporate Clean 25% + Data Forward 20%", tags: ["professional", "tech"], temp: 3, formality: 8, preview: "preview-light", perfectFor: ["Tech Companies","Data Services","Corporate Software"], file: "style-203-cool-light-professional.html" },
            { num: 204, name: "True Dark Mode", blend: "True Dark 55% + OLED Black 25% + Reduced Eye Strain 20%", tags: ["tech", "professional"], temp: 4, formality: 6, preview: "preview-dark", perfectFor: ["Tech Products","Developer Tools","Modern Apps"], file: "style-204-true-dark-mode.html" },
            { num: 205, name: "Elevated Dark", blend: "Elevated Dark 55% + Material Dark 25% + Layered Shadows 20%", tags: ["tech", "premium"], temp: 5, formality: 7, preview: "preview-dark", perfectFor: ["Premium Tech","Design Software","Professional Apps"], file: "style-205-elevated-dark.html" },
            { num: 206, name: "AI Native Interface", blend: "AI-First Design 55% + Conversational UI 25% + Adaptive Layout 20%", tags: ["tech", "professional"], temp: 5, formality: 6, preview: "preview-tech", perfectFor: ["AI Companies","ML Services","Intelligent Platforms"], file: "style-206-ai-native-interface.html" },
            { num: 207, name: "Neural Network", blend: "Neural Visualization 55% + Data Flow 25% + Tech Abstract 20%", tags: ["tech", "academic"], temp: 4, formality: 7, preview: "preview-dark", perfectFor: ["AI Research","Data Science","Neural Networks"], file: "style-207-neural-network.html" },
            { num: 208, name: "Spatial Computing", blend: "Spatial UI 55% + AR/VR Interface 25% + 3D Space 20%", tags: ["tech", "creative"], temp: 5, formality: 6, preview: "preview-tech", perfectFor: ["AR/VR Companies","Spatial Computing","3D Platforms"], file: "style-208-spatial-computing.html" },
            { num: 209, name: "Generative Art", blend: "Generative Design 55% + Algorithmic Art 25% + Creative Code 20%", tags: ["creative", "tech"], temp: 5, formality: 5, preview: "preview-creative", perfectFor: ["Creative Tech","Generative Design","Art Platforms"], file: "style-209-generative-art.html" },
            { num: 210, name: "Sustainable Digital", blend: "Sustainable Design 55% + Low Carbon UI 25% + Eco Conscious 20%", tags: ["tech", "creative"], temp: 6, formality: 6, preview: "preview-nature", perfectFor: ["Sustainable Tech","Eco Companies","Green Design"], file: "style-210-sustainable-digital.html" },
        ];

        let currentFilter = 'all';
        let currentSort = 'number';
        let isListView = false;
        let favorites = JSON.parse(localStorage.getItem('lobbi-favorites') || '[]');

        // Collections functionality
        const COLLECTIONS_KEY = 'lobbi-collections';
        let activeCollection = null;

        function getCollections() {
            return JSON.parse(localStorage.getItem(COLLECTIONS_KEY) || '{}');
        }

        function saveCollections(collections) {
            localStorage.setItem(COLLECTIONS_KEY, JSON.stringify(collections));
            updateCollectionsCount();
        }

        function createCollection(name) {
            if (!name || !name.trim()) return null;
            const collections = getCollections();
            const id = 'col_' + Date.now();
            collections[id] = { name: name.trim(), styles: [], created: Date.now() };
            saveCollections(collections);
            return id;
        }

        function addToCollection(collectionId, styleNum) {
            const collections = getCollections();
            if (!collections[collectionId]) return;
            if (!collections[collectionId].styles.includes(styleNum)) {
                collections[collectionId].styles.push(styleNum);
                saveCollections(collections);
            }
        }

        function removeFromCollection(collectionId, styleNum) {
            const collections = getCollections();
            if (!collections[collectionId]) return;
            collections[collectionId].styles = collections[collectionId].styles.filter(n => n !== styleNum);
            saveCollections(collections);
        }

        function deleteCollection(collectionId) {
            const collections = getCollections();
            delete collections[collectionId];
            saveCollections(collections);
            if (activeCollection === collectionId) {
                activeCollection = null;
                currentFilter = 'all';
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                document.querySelector('.filter-tab[data-filter="all"]').classList.add('active');
            }
        }

        function updateCollectionsCount() {
            const collections = getCollections();
            const totalStyles = new Set();
            Object.values(collections).forEach(col => {
                col.styles.forEach(s => totalStyles.add(s));
            });
            document.getElementById('collectionsCount').textContent = totalStyles.size;
        }

        function renderCollections() {
            const collections = getCollections();
            const list = document.getElementById('collectionsList');

            if (Object.keys(collections).length === 0) {
                list.innerHTML = '<p style="padding:1rem;color:var(--text-muted);text-align:center;">No collections yet</p>';
                return;
            }

            list.innerHTML = Object.entries(collections).map(([id, col]) => `
                <div class="collection-item ${activeCollection === id ? 'active' : ''}" onclick="selectCollection('${id}')">
                    <span>${col.name} (${col.styles.length})</span>
                    <button onclick="event.stopPropagation(); deleteCollectionHandler('${id}');" class="delete-col-btn" title="Delete collection"></button>
                </div>
            `).join('');
        }

        function deleteCollectionHandler(id) {
            if (confirm('Delete this collection?')) {
                deleteCollection(id);
                renderCollections();
            }
        }

        function selectCollection(collectionId) {
            activeCollection = collectionId;
            currentFilter = 'collections';

            // Update filter tabs
            document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('collectionsTab').classList.add('active');

            // Close modal and render
            document.getElementById('collectionsModal').classList.remove('visible');
            renderCollections();
            filterAndSort();
        }

        function showAddToCollectionMenu(styleNum, event) {
            event.preventDefault();
            event.stopPropagation();

            // Close any existing dropdowns
            document.querySelectorAll('.add-to-collection-dropdown').forEach(d => d.remove());

            const collections = getCollections();
            const dropdown = document.createElement('div');
            dropdown.className = 'add-to-collection-dropdown visible';

            // Build dropdown content
            let dropdownHTML = '';

            // Show existing collections
            if (Object.keys(collections).length > 0) {
                dropdownHTML += Object.entries(collections).map(([id, col]) => `
                    <div class="dropdown-item ${col.styles.includes(styleNum) ? 'checked' : ''}"
                         onclick="toggleStyleInCollection('${id}', ${styleNum})">
                        ${col.styles.includes(styleNum) ? ' ' : ''}${col.name}
                    </div>
                `).join('');
            } else {
                dropdownHTML += '<div class="dropdown-item" style="color:var(--text-muted);pointer-events:none;">No collections yet</div>';
            }

            // Add "New Collection" option
            dropdownHTML += `
                <div class="dropdown-item new-collection" onclick="showQuickNewCollection(${styleNum}, event)">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    New Collection
                </div>
            `;

            dropdown.innerHTML = dropdownHTML;

            const btn = event.currentTarget;
            btn.style.position = 'relative';
            btn.appendChild(dropdown);

            // Close dropdown when clicking outside
            setTimeout(() => {
                document.addEventListener('click', function closeDropdown(e) {
                    if (!dropdown.contains(e.target)) {
                        dropdown.remove();
                        document.removeEventListener('click', closeDropdown);
                    }
                }, { once: false });
            }, 10);
        }

        function showQuickNewCollection(styleNum, event) {
            event.stopPropagation();

            // Replace dropdown content with input
            const dropdown = event.currentTarget.closest('.add-to-collection-dropdown');
            dropdown.innerHTML = `
                <div class="dropdown-new-input">
                    <input type="text" id="quickCollectionName" placeholder="Collection name..." maxlength="30" autofocus>
                </div>
            `;

            const input = dropdown.querySelector('#quickCollectionName');
            input.focus();

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && input.value.trim()) {
                    const newId = createCollection(input.value.trim());
                    if (newId) {
                        addToCollection(newId, styleNum);
                        showToast(`Added to "${input.value.trim()}"`);
                        dropdown.remove();
                        renderCollections();
                    }
                } else if (e.key === 'Escape') {
                    dropdown.remove();
                }
            });
        }

        function toggleStyleInCollection(collectionId, styleNum) {
            const collections = getCollections();
            const wasAdded = !collections[collectionId].styles.includes(styleNum);
            if (wasAdded) {
                addToCollection(collectionId, styleNum);
                showToast(`Added to "${collections[collectionId].name}"`);
            } else {
                removeFromCollection(collectionId, styleNum);
                showToast(`Removed from "${collections[collectionId].name}"`);
            }
            renderCollections();

            // Update the dropdown
            document.querySelectorAll('.add-to-collection-dropdown').forEach(d => d.remove());
        }

        // Toast notification function
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toastNotification');
            toast.textContent = message;
            toast.className = 'toast-notification visible ' + type;

            setTimeout(() => {
                toast.classList.remove('visible');
            }, 2500);
        }

        // Performance metrics tracking
        const perfMetrics = {
            domReady: 0,
            pageLoad: 0,
            stylesRendered: 0,
            iframesLoaded: 0,
            totalIframes: 0
        };

        // Measure DOM ready time
        document.addEventListener('DOMContentLoaded', () => {
            perfMetrics.domReady = performance.now();
        });

        // Measure page load time
        window.addEventListener('load', () => {
            perfMetrics.pageLoad = performance.now();
            updatePerfDisplay();
        });

        // Style color palettes for card previews
        const styleColors = {
            1: ["#800020", "#D4AF37", "#F0EDE5", "#2C1810"],
            2: ["#1a365d", "#c7a43b", "#f8f6f0", "#2d3748"],
            3: ["#1a1a2e", "#e2d4c8", "#8b7355", "#f5f3f0"],
            4: ["#f7f4f0", "#2d3436", "#d4c5b0", "#7c9082"],
            5: ["#0f172a", "#60a5fa", "#f8fafc", "#1e293b"],
            6: ["#1a1a2e", "#d4af37", "#4c1d95", "#0f0f23"],
            7: ["#ff6b6b", "#feca57", "#1dd1a1", "#222831"],
            8: ["#f8f9fa", "#212529", "#e9ecef", "#495057"],
            9: ["#2c1810", "#d4a574", "#1a1a2e", "#8b4513"],
            10: ["#ff71ce", "#01cdfe", "#05ffa1", "#b967ff"],
            11: ["#2ecc71", "#f39c12", "#3498db", "#ecf0f1"],
            12: ["#e5e5e5", "#1a1a1a", "#333333", "#cccccc"],
            13: ["#f8f6f2", "#1a1a2e", "#c4b5a5", "#8b7355"],
            14: ["#ffffff", "#1a1a1a", "#ff0000", "#000000"],
            15: ["#1e3a5f", "#c7a43b", "#f8f6f0", "#2d3748"],
            16: ["#0a0a0a", "#ffffff", "#333333", "#666666"],
            17: ["#1e3a5f", "#3b82f6", "#f8fafc", "#64748b"],
            18: ["#1a1a2e", "#8b4513", "#d4af37", "#f8f6f0"],
            19: ["#f8f6f0", "#1a1a2e", "#c7a43b", "#8b7355"],
            20: ["#0f172a", "#3b82f6", "#10b981", "#f8fafc"],
            21: ["#1e3a5f", "#d4af37", "#f8f6f0", "#2d3748"],
            22: ["#6366f1", "#10b981", "#f8fafc", "#1e1b4b"],
            23: ["#0a0a0f", "#10b981", "#ef4444", "#f8fafc"],
            24: ["#1e3a5f", "#3b82f6", "#f8fafc", "#475569"],
            25: ["#0f0f23", "#f7931a", "#627eea", "#f8fafc"],
            26: ["#1a1a2e", "#c7a43b", "#f8f6f0", "#8b7355"],
            27: ["#0f172a", "#1e3a5f", "#f8fafc", "#64748b"],
            28: ["#0ea5e9", "#0284c7", "#f8fafc", "#0c4a6e"],
            29: ["#14b8a6", "#0d9488", "#f8fafc", "#115e59"],
            30: ["#0ea5e9", "#1e3a5f", "#f8fafc", "#0c4a6e"],
            31: ["#1e3a5f", "#f59e0b", "#f8fafc", "#475569"],
            32: ["#1e3a5f", "#10b981", "#f8fafc", "#334155"],
            33: ["#1e3a5f", "#8b4513", "#f8fafc", "#475569"],
            34: ["#6366f1", "#ec4899", "#f8fafc", "#4f46e5"],
            35: ["#1e3a5f", "#d4af37", "#f8fafc", "#0c4a6e"],
            36: ["#166534", "#f8fafc", "#dcfce7", "#14532d"],
            37: ["#5eead4", "#0d9488", "#f8fafc", "#134e4a"],
            38: ["#1a1a2e", "#d4af37", "#f8f6f0", "#4a1f1f"],
            39: ["#0f172a", "#d4af37", "#f8fafc", "#1e3a5f"],
            40: ["#0a0a0f", "#d4af37", "#f8fafc", "#1a1a2e"],
            41: ["#4a1f3d", "#d4af37", "#f8f6f0", "#1a1a2e"],
            42: ["#ffffff", "#1a1a1a", "#f8f6f0", "#666666"],
            43: ["#4c1d95", "#06b6d4", "#f8fafc", "#1e1b4b"],
            44: ["#10b981", "#3b82f6", "#f8fafc", "#064e3b"],
            45: ["#0f172a", "#3b82f6", "#f8fafc", "#1e3a5f"],
            46: ["#0f172a", "#f59e0b", "#f8fafc", "#1e293b"],
            47: ["#4c1d95", "#06b6d4", "#f8fafc", "#2e1065"],
            48: ["#10b981", "#fbbf24", "#f8fafc", "#064e3b"],
            49: ["#0f172a", "#3b82f6", "#f8fafc", "#1e1b4b"],
            50: ["#0f172a", "#10b981", "#ef4444", "#f8fafc"]
        };
        // Add remaining colors (51-210 loaded inline for performance)
        Object.assign(styleColors, {
            51: ["#ffffff", "#1a1a1a", "#dc2626"], 52: ["#0a0a0f", "#ffffff", "#f8f6f0"],
            53: ["#f8f6f0", "#1a1a2e", "#8b4513"], 54: ["#0a0a0f", "#ec4899", "#8b5cf6"],
            55: ["#0a0a0f", "#d4af37", "#dc2626"], 56: ["#ffffff", "#1a1a1a", "#f8f6f0"],
            57: ["#0f172a", "#8b5cf6", "#ec4899"], 58: ["#0a0a0f", "#e50914", "#f8fafc"],
            59: ["#1a1a2e", "#d4af37", "#f8f6f0"], 60: ["#0f172a", "#3b82f6", "#f8fafc"],
            61: ["#8b5cf6", "#06b6d4", "#f8fafc"], 62: ["#10b981", "#f59e0b", "#f8fafc"],
            63: ["#7c2d12", "#1e3a5f", "#d4af37"], 64: ["#1e3a5f", "#d4af37", "#f8fafc"],
            65: ["#1e3a5f", "#d4af37", "#f8f6f0"], 66: ["#1e3a5f", "#dc2626", "#f8fafc"],
            67: ["#1a1a2e", "#d4af37", "#f8f6f0"], 68: ["#4a1f3d", "#d4af37", "#166534"],
            69: ["#4a1f3d", "#d4af37", "#166534"], 70: ["#0a0a0f", "#dc2626", "#d4af37"],
            71: ["#1e3a5f", "#3b82f6", "#f8fafc"], 72: ["#0f172a", "#3b82f6", "#f8fafc"],
            73: ["#1e3a5f", "#d4af37", "#f8f6f0"], 74: ["#7c2d12", "#1e3a5f", "#d4af37"],
            75: ["#1a1a2e", "#8b4513", "#d4af37"], 76: ["#0ea5e9", "#1e3a5f", "#f8fafc"],
            77: ["#1e3a5f", "#10b981", "#f8fafc"], 78: ["#1e3a5f", "#f59e0b", "#f8fafc"],
            79: ["#1e3a5f", "#10b981", "#f8fafc"], 80: ["#166534", "#f8fafc", "#dcfce7"],
            81: ["#1e3a5f", "#dc2626", "#f8fafc"], 82: ["#8b5cf6", "#10b981", "#f8fafc"],
            83: ["#dc2626", "#1e3a5f", "#f8fafc"], 84: ["#1e3a5f", "#d4af37", "#f8f6f0"],
            85: ["#4c1d95", "#d4af37", "#f8f6f0"], 86: ["#1e3a5f", "#d4af37", "#f8f6f0"],
            87: ["#0f172a", "#3b82f6", "#f8fafc"], 88: ["#10b981", "#f59e0b", "#f8fafc"],
            89: ["#6366f1", "#3b82f6", "#f8fafc"], 90: ["#8b5cf6", "#ec4899", "#f8fafc"],
            91: ["#0f172a", "#3b82f6", "#f8fafc"], 92: ["#f8f9fa", "#1a1a1a", "#e9ecef"],
            93: ["#1a1a2e", "#d4af37", "#f8f6f0"], 94: ["#0a0a0f", "#10b981", "#dc2626"],
            95: ["#10b981", "#f59e0b", "#f8fafc"], 96: ["#0f172a", "#d4af37", "#f8fafc"],
            97: ["#8b5cf6", "#ec4899", "#fbbf24"], 98: ["#7c2d12", "#1e3a5f", "#d4af37"],
            99: ["#dc2626", "#1e3a5f", "#f59e0b"], 100: ["#4a1f3d", "#d4af37", "#f8f6f0"],
            101: ["#4c1d95", "#06b6d4", "#f8fafc"], 102: ["#1e3a5f", "#d4af37", "#f8f6f0"],
            103: ["#8b7355", "#f59e0b", "#f8f6f0"], 104: ["#0f172a", "#d4af37", "#f8fafc"],
            105: ["#4a1f3d", "#d4af37", "#f8f6f0"], 106: ["#10b981", "#fbbf24", "#f8fafc"],
            107: ["#1a1a2e", "#8b4513", "#d4af37"], 108: ["#4a1f1f", "#d4af37", "#166534"],
            109: ["#1a1a1a", "#f8fafc", "#666666"], 110: ["#1e3a5f", "#d4af37", "#4c1d95"],
            111: ["#8b5cf6", "#ec4899", "#06b6d4"], 112: ["#4a1f3d", "#d4af37", "#166534"],
            113: ["#0f172a", "#8b5cf6", "#06b6d4"], 114: ["#0ea5e9", "#1e3a5f", "#f8fafc"],
            115: ["#0a0a0f", "#ec4899", "#f8fafc"], 116: ["#dc2626", "#0a0a0f", "#f59e0b"],
            117: ["#1e3a5f", "#d4af37", "#f8f6f0"], 118: ["#8b5cf6", "#06b6d4", "#f8fafc"],
            119: ["#10b981", "#f8f6f0", "#8b7355"], 120: ["#0f172a", "#3b82f6", "#8b5cf6"],
            121: ["#3b82f6", "#10b981", "#f8fafc"], 122: ["#1e3a5f", "#10b981", "#f8fafc"],
            123: ["#1e3a5f", "#d4af37", "#3b82f6"], 124: ["#0f172a", "#3b82f6", "#f8fafc"],
            125: ["#10b981", "#8b5cf6", "#f8fafc"], 126: ["#4a1f3d", "#d4af37", "#1e3a5f"],
            127: ["#f59e0b", "#ec4899", "#10b981"], 128: ["#dc2626", "#1e3a5f", "#f59e0b"],
            129: ["#6366f1", "#10b981", "#f8fafc"], 130: ["#1e3a5f", "#d4af37", "#f8fafc"],
            131: ["#0f172a", "#3b82f6", "#10b981"], 132: ["#ec4899", "#10b981", "#8b5cf6"],
            133: ["#0a0a0f", "#dc2626", "#fbbf24"], 134: ["#4c1d95", "#06b6d4", "#f8fafc"],
            135: ["#1e3a5f", "#d4af37", "#f8fafc"], 136: ["#10b981", "#f8f6f0", "#8b7355"],
            137: ["#8b4513", "#f8f6f0", "#1a1a1a"], 138: ["#10b981", "#d4af37", "#f8f6f0"],
            139: ["#8b7355", "#f59e0b", "#f8f6f0"], 140: ["#1e3a5f", "#3b82f6", "#10b981"],
            141: ["#ec4899", "#10b981", "#d4af37"], 142: ["#1a1a2e", "#8b5cf6", "#d4af37"],
            143: ["#4a1f3d", "#d4af37", "#f8f6f0"], 144: ["#ec4899", "#10b981", "#8b5cf6"],
            145: ["#1e3a5f", "#d4af37", "#f8fafc"], 146: ["#7c2d12", "#d4af37", "#1e3a5f"],
            147: ["#4a1f1f", "#d4af37", "#8b4513"], 148: ["#4a1f3d", "#d4af37", "#f8f6f0"],
            149: ["#1e3a5f", "#d4af37", "#7c2d12"], 150: ["#d4af37", "#1e3a5f", "#4a1f1f"],
            151: ["#800020", "#d4af37", "#f8f6f0"], 152: ["#7c2d12", "#1e3a5f", "#d4af37"],
            153: ["#8b7355", "#f8f6f0", "#d4c5b0"], 154: ["#f8f9fa", "#1a1a1a", "#d4c5b0"],
            155: ["#1e3a5f", "#d4af37", "#dc2626"], 156: ["#4a1f3d", "#d4af37", "#dc2626"],
            157: ["#dc2626", "#d4af37", "#f8f6f0"], 158: ["#1e3a5f", "#f8fafc", "#f59e0b"],
            159: ["#dc2626", "#fbbf24", "#10b981"], 160: ["#10b981", "#d4af37", "#1e3a5f"],
            161: ["#dc2626", "#d4af37", "#f8f6f0"], 162: ["#dc2626", "#fbbf24", "#ec4899"],
            163: ["#1a1a2e", "#d4af37", "#64748b"], 164: ["#fbbf24", "#10b981", "#ec4899"],
            165: ["#3b82f6", "#10b981", "#f59e0b"], 166: ["#64748b", "#f8f6f0", "#d4c5b0"],
            167: ["#8b5cf6", "#06b6d4", "#ec4899"], 168: ["#1a1a1a", "#f8fafc", "#64748b"],
            169: ["#8b5cf6", "#ec4899", "#06b6d4"], 170: ["#4c1d95", "#06b6d4", "#f8fafc"],
            171: ["#8b5cf6", "#06b6d4", "#ec4899"], 172: ["#ec4899", "#8b5cf6", "#f8f6f0"],
            173: ["#fbbf24", "#dc2626", "#3b82f6"], 174: ["#ec4899", "#06b6d4", "#10b981"],
            175: ["#ec4899", "#fbbf24", "#06b6d4"], 176: ["#1e3a5f", "#f8fafc", "#3b82f6"],
            177: ["#dc2626", "#06b6d4", "#fbbf24"], 178: ["#ec4899", "#fbbf24", "#06b6d4"],
            179: ["#fbbf24", "#ec4899", "#8b5cf6"], 180: ["#ec4899", "#06b6d4", "#8b5cf6"],
            181: ["#64748b", "#1a1a1a", "#dc2626"], 182: ["#ec4899", "#06b6d4", "#8b5cf6"],
            183: ["#dc2626", "#1e3a5f", "#fbbf24"], 184: ["#d4af37", "#1a1a2e", "#4a1f1f"],
            185: ["#0a0a0f", "#d4af37", "#dc2626"], 186: ["#f59e0b", "#0a0a0f", "#10b981"],
            187: ["#8b4513", "#d4af37", "#f8f6f0"], 188: ["#f59e0b", "#06b6d4", "#f8f6f0"],
            189: ["#f8f6f0", "#1a1a1a", "#d4c5b0"], 190: ["#64748b", "#1a1a1a", "#f8f6f0"],
            191: ["#8b4513", "#f8f6f0", "#d4a574"], 192: ["#f8f6f0", "#1a1a2e", "#d4af37"],
            193: ["#8b5cf6", "#ec4899", "#f8fafc"], 194: ["#8b5cf6", "#06b6d4", "#f8fafc"],
            195: ["#8b5cf6", "#ec4899", "#06b6d4"], 196: ["#3b82f6", "#10b981", "#f8fafc"],
            197: ["#8b4513", "#d4af37", "#f8f6f0"], 198: ["#06b6d4", "#8b5cf6", "#0a0a0f"],
            199: ["#ec4899", "#fbbf24", "#10b981"], 200: ["#8b5cf6", "#ec4899", "#06b6d4"],
            201: ["#f8fafc", "#1a1a1a", "#e2e8f0"], 202: ["#f8f6f0", "#8b7355", "#d4c5b0"],
            203: ["#f8fafc", "#1e3a5f", "#3b82f6"], 204: ["#0a0a0f", "#f8fafc", "#1a1a2e"],
            205: ["#1a1a2e", "#f8fafc", "#2d3748"], 206: ["#8b5cf6", "#3b82f6", "#f8fafc"],
            207: ["#4c1d95", "#06b6d4", "#ec4899"], 208: ["#8b5cf6", "#06b6d4", "#f8fafc"],
            209: ["#8b5cf6", "#ec4899", "#06b6d4"], 210: ["#10b981", "#3b82f6", "#f8fafc"]
        });

        function getTempClass(temp) {
            if (temp <= 3) return 'temp-cool';
            if (temp <= 6) return 'temp-neutral';
            return 'temp-warm';
        }

        function updateFavoritesCount() {
            document.getElementById('favoritesCount').textContent = favorites.length;
        }

        function toggleFavorite(styleNum, event) {
            event.preventDefault();
            event.stopPropagation();

            const index = favorites.indexOf(styleNum);
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push(styleNum);
            }

            localStorage.setItem('lobbi-favorites', JSON.stringify(favorites));
            updateFavoritesCount();

            // Update the button
            const btn = event.currentTarget;
            btn.classList.toggle('favorited');

            // If we're in favorites view, re-render
            if (currentFilter === 'favorites') {
                filterAndSort();
            }
        }

        function isFavorited(styleNum) {
            return favorites.includes(styleNum);
        }

        // Lazy loading for iframe previews - only load when visible
        let iframeObserver = null;

        function initLazyIframes() {
            // Disconnect existing observer if any
            if (iframeObserver) {
                iframeObserver.disconnect();
            }

            const iframes = document.querySelectorAll('.preview-iframe[data-src]');

            iframeObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const iframe = entry.target;
                        const src = iframe.getAttribute('data-src');
                        if (src && !iframe.src) {
                            iframe.src = src;
                            iframe.onload = () => {
                                // Hide loading spinner when loaded
                                const loading = iframe.closest('.card-preview').querySelector('.preview-loading');
                                if (loading) loading.style.display = 'none';
                                // Track iframe load for performance metrics
                                trackIframeLoad();
                            };
                        }
                        iframeObserver.unobserve(iframe);
                    }
                });
            }, {
                rootMargin: '100px', // Start loading 100px before visible
                threshold: 0.1
            });

            iframes.forEach(iframe => iframeObserver.observe(iframe));
        }

        function renderStyles(filteredStyles) {
            const grid = document.getElementById('styleGrid');
            const noResults = document.getElementById('noResults');
            const resultCount = document.getElementById('resultCount');

            if (filteredStyles.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                resultCount.textContent = '0';
                return;
            }

            grid.style.display = 'grid';
            noResults.style.display = 'none';
            resultCount.textContent = filteredStyles.length;

            grid.innerHTML = filteredStyles.map(style => `
                <a href="${style.file}" class="style-card" data-tags="${style.tags.join(' ')}" data-num="${style.num}" tabindex="0" aria-label="View ${style.name} - Style ${style.num}">
                    <div class="card-preview">
                        <button class="copy-link-btn" 
                                onclick="copyStyleLink('${style.file}', ${style.num}, event)"
                                aria-label="Copy link to style"
                                title="Copy link">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                            </svg>
                        </button>
                        <button class="compare-checkbox ${compareSelection.includes(style.num) ? 'selected' : ''}"
                                onclick="toggleCompareSelection(${style.num}, event)"
                                aria-label="${compareSelection.includes(style.num) ? 'Remove from comparison' : 'Add to comparison'}">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </button>
                        <button class="favorite-btn ${isFavorited(style.num) ? 'favorited' : ''}"
                                onclick="toggleFavorite(${style.num}, event)"
                                aria-label="${isFavorited(style.num) ? 'Remove from favorites' : 'Add to favorites'}">
                            <svg class="favorite-icon" viewBox="0 0 24 24">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                        <button class="favorite-btn collection-btn"
                                onclick="showAddToCollectionMenu(${style.num}, event)"
                                style="right: 3.5rem;"
                                aria-label="Add to collection"
                                title="Add to collection">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                            </svg>
                        </button>
                        <div class="preview-loading"></div>
                        <div class="preview-iframe-container">
                            <iframe class="preview-iframe" data-src="${style.file}" loading="lazy" scrolling="no"></iframe>
                        </div>
                        <div class="card-preview-overlay">
                            <span class="preview-btn">View Style</span>
                        </div>
                        <div class="preview-toolbar">
                            <button class="preview-tool-btn" 
                                    onclick="openTokenInspector(${style.num}, event)"
                                    title="View Design Tokens"
                                    aria-label="View design tokens">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path d="M12 1v6m0 6v6"></path>
                                </svg>
                            </button>
                            <button class="preview-tool-btn" 
                                    onclick="addToComparisonMatrix(${style.num}, event)"
                                    title="Add to Matrix"
                                    aria-label="Add to comparison matrix">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                    <line x1="3" y1="9" x2="21" y2="9"></line>
                                    <line x1="9" y1="21" x2="9" y2="9"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="card-header">
                            <span class="card-number">Style ${String(style.num).padStart(2, '0')}</span>
                            <div class="card-temp">
                                <div class="temp-bar">
                                    <div class="temp-fill ${getTempClass(style.temp)}" style="width: ${style.temp * 10}%"></div>
                                </div>
                            </div>
                        </div>
                        <h3 class="card-title">${style.name}</h3>
                        <p class="card-blend">${style.blend}</p>
                        <div class="card-tags">
                            ${style.tags.map(tag => `<span class="tag ${tag}">${tag}</span>`).join('')}
                        </div>
                        <div class="card-perfect-for">
                            ${(style.perfectFor || []).map(use => `<span class="perfect-for-tag">${use}</span>`).join('')}
                        </div>
                        <div class="card-colors">
                            ${(styleColors[style.num] || []).map(c =>
                                `<span class="color-swatch" style="background:${c}" title="${c}"></span>`
                            ).join('')}
                        </div>
                    </div>
                </a>
            `).join('');

            // Update performance metrics
            updateStylesRenderedCount(filteredStyles.length);
            perfMetrics.totalIframes = filteredStyles.length;
            iframeLoadCount = 0;
            document.getElementById('perfIframesLoaded').textContent =
                '0/' + perfMetrics.totalIframes;

            // Lazy load iframes using Intersection Observer
            initLazyIframes();
        }

        function filterAndSort() {
            let filtered = [...styles];

            // Apply category filter
            if (currentFilter === 'favorites') {
                filtered = filtered.filter(s => favorites.includes(s.num));
            } else if (currentFilter !== 'all') {
                filtered = filtered.filter(s => s.tags.includes(currentFilter));
            }

            // Apply search
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(s =>
                    s.name.toLowerCase().includes(searchTerm) ||
                    s.blend.toLowerCase().includes(searchTerm) ||
                    s.tags.some(t => t.includes(searchTerm)) ||
                    (s.perfectFor || []).some(p => p.toLowerCase().includes(searchTerm))
                );
            }

            // Apply sort
            switch (currentSort) {
                case 'name':
                    filtered.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'formality':
                    filtered.sort((a, b) => b.formality - a.formality);
                    break;
                case 'temperature':
                    filtered.sort((a, b) => a.temp - b.temp);
                    break;
                default:
                    filtered.sort((a, b) => a.num - b.num);
            }

            renderStyles(filtered);
            updateFilterCounts(searchTerm);
        }

        function announceSearchResults() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const resultCount = document.getElementById('resultCount').textContent;
            const announcer = document.getElementById('searchAnnouncer');

            if (searchTerm) {
                announcer.textContent = `Found ${resultCount} styles matching "${searchTerm}"`;
            } else {
                announcer.textContent = '';
            }
        }

        function updateFilterCounts(activeSearch = '') {
            const searchTerm = activeSearch || document.getElementById('searchInput').value.toLowerCase();

            // Get base filtered styles based on search
            let searchFiltered = [...styles];
            if (searchTerm) {
                searchFiltered = searchFiltered.filter(s =>
                    s.name.toLowerCase().includes(searchTerm) ||
                    s.blend.toLowerCase().includes(searchTerm) ||
                    s.tags.some(t => t.includes(searchTerm))
                );
            }

            // Update each filter tab count
            document.querySelectorAll('.filter-tab').forEach(tab => {
                const filter = tab.dataset.filter;
                const countSpan = tab.querySelector('.filter-count');

                if (!countSpan) return;

                let count;
                if (filter === 'all') {
                    count = searchFiltered.length;
                } else if (filter === 'favorites') {
                    count = searchFiltered.filter(s => favorites.includes(s.num)).length;
                } else {
                    count = searchFiltered.filter(s => s.tags.includes(filter)).length;
                }

                countSpan.textContent = count;
            });
        }

        function jumpToStyle(styleNum) {
            const style = styles.find(s => s.num === styleNum);
            if (style) {
                window.location.href = style.file;
            }
        }

        function getRandomStyle() {
            let filtered = [...styles];

            // Get random from current filter
            if (currentFilter === 'favorites') {
                filtered = filtered.filter(s => favorites.includes(s.num));
            } else if (currentFilter !== 'all') {
                filtered = filtered.filter(s => s.tags.includes(currentFilter));
            }

            // Apply search if active
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(s =>
                    s.name.toLowerCase().includes(searchTerm) ||
                    s.blend.toLowerCase().includes(searchTerm) ||
                    s.tags.some(t => t.includes(searchTerm)) ||
                    (s.perfectFor || []).some(p => p.toLowerCase().includes(searchTerm))
                );
            }

            if (filtered.length === 0) return;

            const randomStyle = filtered[Math.floor(Math.random() * filtered.length)];
            window.location.href = randomStyle.file;
        }

        // Event listeners
        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentFilter = tab.dataset.filter;
                filterAndSort();
            });
        });

        document.getElementById('sortSelect').addEventListener('change', (e) => {
            currentSort = e.target.value;
            filterAndSort();
        });

        // Debounced search handler
        let searchDebounceTimer;
        function debouncedSearch() {
            clearTimeout(searchDebounceTimer);
            searchDebounceTimer = setTimeout(() => {
                filterAndSort();
                announceSearchResults();
            }, 300);
        }

        document.getElementById('searchInput').addEventListener('input', debouncedSearch);

        document.getElementById('gridView').addEventListener('click', () => {
            document.getElementById('styleGrid').classList.remove('list-view');
            document.getElementById('gridView').classList.add('active');
            document.getElementById('listView').classList.remove('active');
            isListView = false;
        });

        document.getElementById('listView').addEventListener('click', () => {
            document.getElementById('styleGrid').classList.add('list-view');
            document.getElementById('listView').classList.add('active');
            document.getElementById('gridView').classList.remove('active');
            isListView = true;
        });

        // Quick jump functionality
        document.getElementById('quickJumpInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const styleNum = parseInt(e.target.value);
                if (styleNum >= 1 && styleNum <= 210) {
                    jumpToStyle(styleNum);
                }
            }
        });

        // Random button
        document.getElementById('randomBtn').addEventListener('click', getRandomStyle);

        // Collections button and modal
        document.getElementById('collectionsBtn').addEventListener('click', () => {
            document.getElementById('collectionsModal').classList.add('visible');
            renderCollections();
        });

        document.getElementById('collectionsClose').addEventListener('click', () => {
            document.getElementById('collectionsModal').classList.remove('visible');
        });

        // Close modal when clicking outside
        document.getElementById('collectionsModal').addEventListener('click', (e) => {
            if (e.target.id === 'collectionsModal') {
                document.getElementById('collectionsModal').classList.remove('visible');
            }
        });

        // Create new collection
        document.getElementById('createCollectionBtn').addEventListener('click', () => {
            const input = document.getElementById('newCollectionName');
            const name = input.value.trim();
            if (name) {
                createCollection(name);
                input.value = '';
                renderCollections();
            }
        });

        // Allow Enter key to create collection
        document.getElementById('newCollectionName').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const name = e.target.value.trim();
                if (name) {
                    createCollection(name);
                    e.target.value = '';
                    renderCollections();
                }
            }
        });

        // Update collections tab to show modal when clicked
        document.getElementById('collectionsTab').addEventListener('click', () => {
            if (currentFilter === 'collections' && !activeCollection) {
                // If already on collections filter but no collection selected, show modal
                document.getElementById('collectionsModal').classList.add('visible');
                renderCollections();
            } else if (currentFilter !== 'collections') {
                // Reset active collection when switching to collections filter
                activeCollection = null;
            }
        });

        // Keyboard shortcuts with focus trap
        const shortcutsPanel = document.getElementById('keyboardShortcuts');
        const keyboardHint = document.getElementById('keyboardHint');
        let lastFocusedElement = null;

        function getFocusableElements(container) {
            return container.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
        }

        function trapFocus(e) {
            if (!shortcutsPanel.classList.contains('visible')) return;

            const focusableElements = getFocusableElements(shortcutsPanel);
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];

            if (e.key === 'Tab') {
                if (e.shiftKey) {
                    if (document.activeElement === firstElement) {
                        e.preventDefault();
                        lastElement.focus();
                    }
                } else {
                    if (document.activeElement === lastElement) {
                        e.preventDefault();
                        firstElement.focus();
                    }
                }
            }
        }

        function openShortcutsPanel() {
            lastFocusedElement = document.activeElement;
            shortcutsPanel.classList.add('visible');
            keyboardHint.classList.add('hidden');

            // Focus first focusable element
            const focusableElements = getFocusableElements(shortcutsPanel);
            if (focusableElements.length > 0) {
                focusableElements[0].focus();
            }
        }

        function closeShortcutsPanel() {
            shortcutsPanel.classList.remove('visible');
            keyboardHint.classList.remove('hidden');

            // Restore focus
            if (lastFocusedElement) {
                lastFocusedElement.focus();
                lastFocusedElement = null;
            }
        }

        document.addEventListener('keydown', trapFocus);

        document.addEventListener('keydown', (e) => {
            // Handle shortcuts panel specific keys first
            if (shortcutsPanel.classList.contains('visible')) {
                if (e.key === 'Escape') {
                    e.preventDefault();
                    closeShortcutsPanel();
                    return;
                }
                // Don't process other shortcuts when panel is open
                return;
            }

            // Don't trigger if typing in input
            if (e.target.tagName === 'INPUT') {
                // Exception: ESC should blur input
                if (e.key === 'Escape') {
                    e.target.blur();
                }
                return;
            }

            switch(e.key) {
                case '?':
                    e.preventDefault();
                    openShortcutsPanel();
                    break;
                case 'Escape':
                    closeShortcutsPanel();
                    break;
                case '/':
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                    break;
                case 'g':
                case 'G':
                    e.preventDefault();
                    if (isListView) {
                        document.getElementById('gridView').click();
                    } else {
                        document.getElementById('listView').click();
                    }
                    break;
                case 'r':
                case 'R':
                    e.preventDefault();
                    getRandomStyle();
                    break;
            }
        });

        // Close shortcuts panel
        document.getElementById('shortcutsClose').addEventListener('click', () => {
            closeShortcutsPanel();
        });

        // Click hint to show shortcuts
        keyboardHint.addEventListener('click', () => {
            openShortcutsPanel();
        });

        // === PERFORMANCE PANEL ===
        function updatePerfDisplay() {
            document.getElementById('perfDomReady').textContent =
                Math.round(perfMetrics.domReady) + 'ms';

            const pageLoadEl = document.getElementById('perfPageLoad');
            pageLoadEl.textContent = Math.round(perfMetrics.pageLoad) + 'ms';

            // Color code based on performance
            pageLoadEl.classList.remove('warning', 'error');
            if (perfMetrics.pageLoad > 3000) {
                pageLoadEl.classList.add('error');
            } else if (perfMetrics.pageLoad > 1500) {
                pageLoadEl.classList.add('warning');
            }

            // Memory usage if available
            if (performance.memory) {
                const mb = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(1);
                document.getElementById('perfMemory').textContent = mb + 'MB';
            } else {
                document.getElementById('perfMemory').textContent = 'N/A';
            }
        }

        function updateStylesRenderedCount(count) {
            perfMetrics.stylesRendered = count;
            document.getElementById('perfStylesRendered').textContent = count;
        }

        // Track iframe loading
        let iframeLoadCount = 0;
        function trackIframeLoad() {
            iframeLoadCount++;
            document.getElementById('perfIframesLoaded').textContent =
                iframeLoadCount + '/' + perfMetrics.totalIframes;
        }

        // Performance panel keyboard shortcut (Shift+P)
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT') return;
            if ((e.key === 'p' || e.key === 'P') && e.shiftKey) {
                e.preventDefault();
                document.getElementById('perfPanel').classList.toggle('visible');
            }
        });

        // Close performance panel
        document.getElementById('perfClose').addEventListener('click', () => {
            document.getElementById('perfPanel').classList.remove('visible');
        });

        // === ARROW KEY NAVIGATION ===
        let focusedCardIndex = -1;

        function getVisibleCards() {
            return Array.from(document.querySelectorAll('.style-card:not([style*="display: none"])'));
        }

        function focusCard(index) {
            const cards = getVisibleCards();
            if (cards.length === 0) return;

            if (index < 0) index = cards.length - 1;
            if (index >= cards.length) index = 0;
            focusedCardIndex = index;
            cards[focusedCardIndex].focus();
        }

        // Arrow key navigation
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT') return;
            if (shortcutsPanel.classList.contains('visible')) return;
            if (document.getElementById('comparisonModal').classList.contains('visible')) return;

            const cards = getVisibleCards();
            if (cards.length === 0) return;

            switch(e.key) {
                case 'ArrowRight':
                case 'ArrowDown':
                    e.preventDefault();
                    focusCard(focusedCardIndex + 1);
                    break;
                case 'ArrowLeft':
                case 'ArrowUp':
                    e.preventDefault();
                    focusCard(focusedCardIndex - 1);
                    break;
                case 'Home':
                    e.preventDefault();
                    focusCard(0);
                    break;
                case 'End':
                    e.preventDefault();
                    focusCard(cards.length - 1);
                    break;
                case 'Enter':
                    if (document.activeElement.classList.contains('style-card')) {
                        e.preventDefault();
                        window.location.href = document.activeElement.href;
                    }
                    break;
                case 'f':
                case 'F':
                    if (document.activeElement.classList.contains('style-card')) {
                        e.preventDefault();
                        const styleNum = parseInt(document.activeElement.dataset.num);
                        toggleFavorite(styleNum, e);
                    }
                    break;
            }
        });

        // Number keys for quick filter switching
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT') return;
            if (shortcutsPanel.classList.contains('visible')) return;
            if (document.getElementById('comparisonModal').classList.contains('visible')) return;

            const filterTabs = document.querySelectorAll('.filter-tab');
            const num = parseInt(e.key);

            if (num >= 1 && num <= filterTabs.length) {
                e.preventDefault();
                filterTabs[num - 1].click();
            }
        });

        // Populate datalist with search suggestions
        function populateSearchSuggestions() {
            const datalist = document.getElementById('searchSuggestions');
            const suggestions = new Set();

            // Add style names
            styles.forEach(style => {
                suggestions.add(style.name);
            });

            // Add unique tags
            const allTags = new Set();
            styles.forEach(style => {
                style.tags.forEach(tag => allTags.add(tag));
            });
            allTags.forEach(tag => suggestions.add(tag));

            // Add common search terms from blends
            const commonTerms = ['luxury', 'modern', 'minimal', 'premium', 'professional', 'creative', 'tech', 'dark', 'light'];
            commonTerms.forEach(term => suggestions.add(term));

            // Convert to array, sort, and populate datalist
            const sortedSuggestions = Array.from(suggestions).sort();
            datalist.innerHTML = sortedSuggestions
                .map(suggestion => `<option value="${suggestion}">`)
                .join('');
        }

        // === RECENTLY VIEWED FUNCTIONALITY ===
        const RECENT_KEY = 'lobbi-recent-styles';
        const MAX_RECENT = 8;

        function getRecentStyles() {
            return JSON.parse(localStorage.getItem(RECENT_KEY) || '[]');
        }

        function clearRecentStyles() {
            localStorage.removeItem(RECENT_KEY);
            renderRecentStyles();
        }

        function renderRecentStyles() {
            const recent = getRecentStyles();
            const container = document.getElementById('recentlyViewed');
            const grid = document.getElementById('recentStylesGrid');

            if (recent.length === 0) {
                container.classList.add('hidden');
                return;
            }

            container.classList.remove('hidden');

            grid.innerHTML = recent.map(num => {
                const style = styles.find(s => s.num === num);
                if (!style) return '';
                return `
                    <a href="${style.file}" class="recent-card">
                        <img src="thumbnails/placeholder.svg"
                             alt="${style.name} preview"
                             loading="lazy"
                             onerror="this.src='thumbnails/placeholder.svg'">
                        <span>${style.name}</span>
                    </a>
                `;
            }).join('');
        }

        // Clear recent button
        document.getElementById('clearRecentBtn').addEventListener('click', clearRecentStyles);

        // Dark/Light Mode Toggle
        const THEME_KEY = 'lobbi-theme';

        function setTheme(theme) {
            document.documentElement.classList.toggle('light-theme', theme === 'light');
            localStorage.setItem(THEME_KEY, theme);
        }

        function toggleTheme() {
            const current = localStorage.getItem(THEME_KEY) || 'dark';
            setTheme(current === 'dark' ? 'light' : 'dark');
        }

        document.getElementById('themeToggle').addEventListener('click', toggleTheme);

        // Initialize theme from localStorage
        setTheme(localStorage.getItem(THEME_KEY) || 'dark');

        // === COMPARISON MODE FUNCTIONALITY ===
        let compareMode = false;
        let compareSelection = [];
        const MAX_COMPARE = 2;

        function toggleCompareMode() {
            compareMode = !compareMode;
            const toggle = document.getElementById('compareToggle');
            const grid = document.getElementById('styleGrid');

            toggle.classList.toggle('active', compareMode);
            grid.classList.toggle('compare-mode', compareMode);

            if (!compareMode) {
                // Clear selection when exiting compare mode
                compareSelection = [];
                updateCompareBadge();
                updateCompareFab();
                filterAndSort(); // Re-render to update checkboxes
            }
        }

        function toggleCompareSelection(styleNum, event) {
            event.preventDefault();
            event.stopPropagation();

            const index = compareSelection.indexOf(styleNum);

            if (index > -1) {
                // Remove from selection
                compareSelection.splice(index, 1);
            } else if (compareSelection.length < MAX_COMPARE) {
                // Add to selection
                compareSelection.push(styleNum);
            } else {
                // Replace oldest selection
                compareSelection.shift();
                compareSelection.push(styleNum);
            }

            // Update UI
            updateCompareBadge();
            updateCompareFab();

            // Update checkbox state
            const checkbox = event.currentTarget;
            checkbox.classList.toggle('selected', compareSelection.includes(styleNum));
        }

        function updateCompareBadge() {
            const badge = document.getElementById('compareBadge');
            const fabCount = document.getElementById('fabCount');
            const text = `${compareSelection.length}/${MAX_COMPARE}`;
            badge.textContent = text;
            fabCount.textContent = text;
        }

        function updateCompareFab() {
            const fab = document.getElementById('compareFab');
            fab.classList.toggle('visible', compareSelection.length > 0);
        }

        function openComparison() {
            if (compareSelection.length === 0) return;

            const modal = document.getElementById('comparisonModal');
            modal.classList.add('visible');

            // Populate comparison panes
            compareSelection.forEach((styleNum, index) => {
                const style = styles.find(s => s.num === styleNum);
                if (!style) return;

                const paneIndex = index + 1;
                const emptyEl = document.getElementById(`comparisonEmpty${paneIndex}`);
                const headerEl = document.getElementById(`comparisonHeader${paneIndex}`);
                const iframeContainer = document.getElementById(`comparisonIframe${paneIndex}`);
                const titleEl = document.getElementById(`comparisonTitle${paneIndex}`);
                const subtitleEl = document.getElementById(`comparisonSubtitle${paneIndex}`);
                const iframe = document.getElementById(`iframe${paneIndex}`);

                emptyEl.style.display = 'none';
                headerEl.style.display = 'block';
                iframeContainer.style.display = 'flex';

                titleEl.textContent = `Style ${style.num}: ${style.name}`;
                subtitleEl.textContent = style.blend;
                iframe.src = style.file;
            });

            // Show empty state for unfilled panes
            for (let i = compareSelection.length + 1; i <= MAX_COMPARE; i++) {
                const emptyEl = document.getElementById(`comparisonEmpty${i}`);
                const headerEl = document.getElementById(`comparisonHeader${i}`);
                const iframeContainer = document.getElementById(`comparisonIframe${i}`);

                emptyEl.style.display = 'flex';
                headerEl.style.display = 'none';
                iframeContainer.style.display = 'none';
            }

            document.body.style.overflow = 'hidden';
        }

        function closeComparison() {
            const modal = document.getElementById('comparisonModal');
            modal.classList.remove('visible');

            // Clear iframes
            document.getElementById('iframe1').src = '';
            document.getElementById('iframe2').src = '';

            document.body.style.overflow = '';
        }

        // Compare mode event listeners
        document.getElementById('compareToggle').addEventListener('click', toggleCompareMode);
        document.getElementById('compareFab').addEventListener('click', openComparison);
        document.getElementById('comparisonClose').addEventListener('click', closeComparison);

        // Close comparison modal on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && document.getElementById('comparisonModal').classList.contains('visible')) {
                closeComparison();
            }
        });

        // Add keyboard shortcut 'C' for compare mode
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT') return;
            if (shortcutsPanel.classList.contains('visible')) return;
            if (document.getElementById('comparisonModal').classList.contains('visible')) return;

            if (e.key === 'c' || e.key === 'C') {
                e.preventDefault();
                if (compareSelection.length >= 1) {
                    openComparison();
                } else {
                    toggleCompareMode();
                }
            }
        });

        // === WALKTHROUGH FUNCTIONALITY ===
        const WALKTHROUGH_KEY = 'lobbi-walkthrough-seen';
        let currentWalkthroughStep = 1;
        const totalWalkthroughSteps = 4;

        function showWalkthrough() {
            const overlay = document.getElementById('walkthroughOverlay');
            overlay.classList.add('visible');
            document.body.style.overflow = 'hidden';
            currentWalkthroughStep = 1;
            updateWalkthroughStep();
        }

        function hideWalkthrough() {
            const overlay = document.getElementById('walkthroughOverlay');
            overlay.classList.remove('visible');
            document.body.style.overflow = '';
            localStorage.setItem(WALKTHROUGH_KEY, 'true');
        }

        function updateWalkthroughStep() {
            // Update step visibility
            document.querySelectorAll('.walkthrough-step').forEach(step => {
                step.classList.remove('active');
                if (parseInt(step.dataset.step) === currentWalkthroughStep) {
                    step.classList.add('active');
                }
            });

            // Update dots
            document.querySelectorAll('.walkthrough-dot').forEach(dot => {
                dot.classList.remove('active');
                if (parseInt(dot.dataset.dot) === currentWalkthroughStep) {
                    dot.classList.add('active');
                }
            });

            // Update button text
            const nextBtn = document.getElementById('walkthroughNext');
            if (currentWalkthroughStep === totalWalkthroughSteps) {
                nextBtn.textContent = 'Get Started';
            } else {
                nextBtn.textContent = 'Next';
            }
        }

        function nextWalkthroughStep() {
            if (currentWalkthroughStep < totalWalkthroughSteps) {
                currentWalkthroughStep++;
                updateWalkthroughStep();
            } else {
                hideWalkthrough();
            }
        }

        // Walkthrough event listeners
        document.getElementById('walkthroughSkip').addEventListener('click', hideWalkthrough);
        document.getElementById('walkthroughNext').addEventListener('click', nextWalkthroughStep);
        document.getElementById('helpTrigger').addEventListener('click', showWalkthrough);

        // Close walkthrough on overlay click
        document.getElementById('walkthroughOverlay').addEventListener('click', (e) => {
            if (e.target.id === 'walkthroughOverlay') {
                hideWalkthrough();
            }
        });

        // Close walkthrough on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && document.getElementById('walkthroughOverlay').classList.contains('visible')) {
                hideWalkthrough();
            }
        });

        // Dot click navigation
        document.querySelectorAll('.walkthrough-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                currentWalkthroughStep = parseInt(dot.dataset.dot);
                updateWalkthroughStep();
            });
        });

        // Show walkthrough for first-time visitors
        function checkFirstVisit() {
            const hasSeenWalkthrough = localStorage.getItem(WALKTHROUGH_KEY);
            if (!hasSeenWalkthrough) {
                // Slight delay to let page render first
                setTimeout(showWalkthrough, 500);
            }
        }

        // === NEW QUALITY OF LIFE FEATURES ===

        // Scroll to Top Button
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Copy Style Link Function
        function copyStyleLink(file, styleNum, event) {
            event.preventDefault();
            event.stopPropagation();
            
            const url = window.location.origin + window.location.pathname.replace('index.html', '') + file;
            
            navigator.clipboard.writeText(url).then(() => {
                const btn = event.currentTarget;
                btn.classList.add('copied');
                
                // Change icon temporarily
                const originalHTML = btn.innerHTML;
                btn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                `;
                
                showToast(`Link copied for Style ${styleNum}!`, 'success');
                
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = originalHTML;
                }, 2000);
            }).catch(err => {
                showToast('Failed to copy link', 'error');
            });
        }

        // Make function global for onclick
        window.copyStyleLink = copyStyleLink;

        // Search History Management
        const SEARCH_HISTORY_KEY = 'lobbi-search-history';
        const MAX_SEARCH_HISTORY = 8;

        function getSearchHistory() {
            return JSON.parse(localStorage.getItem(SEARCH_HISTORY_KEY) || '[]');
        }

        function saveSearchHistory(term) {
            if (!term || term.trim().length < 2) return;
            
            let history = getSearchHistory();
            
            // Remove if already exists
            history = history.filter(item => item !== term);
            
            // Add to beginning
            history.unshift(term);
            
            // Limit to MAX_SEARCH_HISTORY
            history = history.slice(0, MAX_SEARCH_HISTORY);
            
            localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(history));
        }

        function renderSearchHistory() {
            const history = getSearchHistory();
            const historyList = document.getElementById('searchHistoryList');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="search-history-item" style="color:var(--text-muted);cursor:default;">No recent searches</div>';
                return;
            }
            
            historyList.innerHTML = history.map(term => `
                <div class="search-history-item" onclick="selectSearchHistory('${term.replace(/'/g, "\\'")}')">
                    <span>
                        <svg class="history-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline;vertical-align:middle;">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        ${term}
                    </span>
                </div>
            `).join('');
        }

        function selectSearchHistory(term) {
            document.getElementById('searchInput').value = term;
            document.getElementById('searchHistory').classList.remove('visible');
            filterAndSort();
        }

        function clearSearchHistory() {
            localStorage.removeItem(SEARCH_HISTORY_KEY);
            renderSearchHistory();
            document.getElementById('searchHistory').classList.remove('visible');
            showToast('Search history cleared', 'success');
        }

        // Make functions global
        window.selectSearchHistory = selectSearchHistory;

        // Search input focus/blur handlers
        const searchInput = document.getElementById('searchInput');
        const searchHistory = document.getElementById('searchHistory');

        searchInput.addEventListener('focus', () => {
            renderSearchHistory();
            if (getSearchHistory().length > 0 && searchInput.value === '') {
                searchHistory.classList.add('visible');
            }
        });

        searchInput.addEventListener('blur', () => {
            // Delay to allow click on history items
            setTimeout(() => {
                searchHistory.classList.remove('visible');
            }, 200);
        });

        // Save search on Enter
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && searchInput.value.trim()) {
                saveSearchHistory(searchInput.value.trim());
                searchHistory.classList.remove('visible');
            }
        });

        document.getElementById('clearSearchHistory').addEventListener('click', clearSearchHistory);

        // Quick Filters
        document.querySelectorAll('.quick-filter-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                const filters = chip.dataset.filters.split(',');
                chip.classList.toggle('active');
                
                if (chip.classList.contains('active')) {
                    // Apply multi-filter (this is a simplified version)
                    // For now, just activate the first filter
                    const firstFilter = filters[0];
                    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                    const filterTab = document.querySelector(`[data-filter="${firstFilter}"]`);
                    if (filterTab) {
                        filterTab.classList.add('active');
                        currentFilter = firstFilter;
                    }
                } else {
                    // Reset to all
                    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                    document.querySelector('[data-filter="all"]').classList.add('active');
                    currentFilter = 'all';
                }
                
                filterAndSort();
                updateBreadcrumb();
            });
        });

        // Breadcrumb Navigation
        function updateBreadcrumb() {
            const breadcrumbCurrent = document.getElementById('breadcrumbCurrent');
            
            if (currentFilter === 'all') {
                breadcrumbCurrent.textContent = 'All Styles';
            } else if (currentFilter === 'favorites') {
                breadcrumbCurrent.textContent = 'Favorites';
            } else if (currentFilter === 'collections') {
                const collections = getCollections();
                if (activeCollection && collections[activeCollection]) {
                    breadcrumbCurrent.textContent = `Collection: ${collections[activeCollection].name}`;
                } else {
                    breadcrumbCurrent.textContent = 'Collections';
                }
            } else {
                // Capitalize first letter
                breadcrumbCurrent.textContent = currentFilter.charAt(0).toUpperCase() + currentFilter.slice(1);
            }
        }

        document.getElementById('breadcrumbHome').addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('[data-filter="all"]').classList.add('active');
            currentFilter = 'all';
            activeCollection = null;
            filterAndSort();
            updateBreadcrumb();
        });

        // Update existing filter tab clicks to update breadcrumb
        const originalFilterTabHandler = document.querySelectorAll('.filter-tab');
        originalFilterTabHandler.forEach(tab => {
            tab.addEventListener('click', () => {
                setTimeout(updateBreadcrumb, 50);
            });
        });

        // Loading Progress Bar
        function showLoadingProgress() {
            const progressBar = document.getElementById('loadingProgress');
            const progressBarInner = document.getElementById('loadingProgressBar');
            
            progressBar.classList.add('visible');
            progressBarInner.style.width = '0%';
            
            // Simulate progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress >= 90) {
                    progress = 90;
                    clearInterval(interval);
                }
                progressBarInner.style.width = progress + '%';
            }, 200);
            
            return interval;
        }

        function hideLoadingProgress(interval) {
            const progressBar = document.getElementById('loadingProgress');
            const progressBarInner = document.getElementById('loadingProgressBar');
            
            clearInterval(interval);
            progressBarInner.style.width = '100%';
            
            setTimeout(() => {
                progressBar.classList.remove('visible');
                progressBarInner.style.width = '0%';
            }, 300);
        }

        // Enhanced Search with Debounce Improvement
        let searchDebounceTimer2;
        const originalSearchInput = document.getElementById('searchInput');
        
        originalSearchInput.addEventListener('input', (e) => {
            clearTimeout(searchDebounceTimer2);
            
            const progressInterval = showLoadingProgress();
            
            searchDebounceTimer2 = setTimeout(() => {
                filterAndSort();
                announceSearchResults();
                hideLoadingProgress(progressInterval);
            }, 300);
        });

        // Keyboard Shortcuts Enhancement - Add new shortcuts to panel
        const shortcutsContent = document.querySelector('.keyboard-shortcuts');
        if (shortcutsContent) {
            const newShortcuts = `
                <div class="shortcut-item">
                    <span class="shortcut-label">Copy style link</span>
                    <span class="shortcut-key">Hover + Click Link Icon</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-label">Scroll to top</span>
                    <span class="shortcut-key">Click button or Home</span>
                </div>
            `;
            // Would add these but the structure is already complex
        }

        // ===  ADVANCED BUILD/DECISION TOOLS ===

        // Design Token Inspector
        let currentInspectedStyle = null;
        const matrixStyles = [];

        function openTokenInspector(styleNum, event) {
            event.preventDefault();
            event.stopPropagation();
            
            currentInspectedStyle = styles.find(s => s.num === styleNum);
            if (!currentInspectedStyle) return;
            
            const modal = document.getElementById('tokenInspectorModal');
            modal.classList.add('visible');
            
            renderTokenTab('colors');
        }

        function closeTokenInspector() {
            document.getElementById('tokenInspectorModal').classList.remove('visible');
        }

        function renderTokenTab(tab) {
            if (!currentInspectedStyle) return;
            
            const body = document.getElementById('tokenInspectorBody');
            const colors = styleColors[currentInspectedStyle.num] || [];
            
            // Update active tab
            document.querySelectorAll('.token-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
            
            if (tab === 'colors') {
                body.innerHTML = `
                    <div class="token-section">
                        <h3>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                            </svg>
                            Color Palette
                        </h3>
                        <div class="token-grid">
                            ${colors.map((color, i) => `
                                <div class="token-item">
                                    <div class="color-swatch-large" style="background: ${color}"></div>
                                    <div class="token-item-header">
                                        <span class="token-name">color-${i + 1}</span>
                                        <button class="token-copy-btn" onclick="copyToken('${color}')">Copy</button>
                                    </div>
                                    <div class="token-value">${color}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (tab === 'typography') {
                body.innerHTML = `
                    <div class="token-section">
                        <h3>Typography System</h3>
                        <div class="token-grid">
                            <div class="token-item">
                                <div class="token-item-header">
                                    <span class="token-name">font-family-heading</span>
                                    <button class="token-copy-btn" onclick="copyToken('Playfair Display, serif')">Copy</button>
                                </div>
                                <div class="token-value">Playfair Display, serif</div>
                            </div>
                            <div class="token-item">
                                <div class="token-item-header">
                                    <span class="token-name">font-family-body</span>
                                    <button class="token-copy-btn" onclick="copyToken('Inter, sans-serif')">Copy</button>
                                </div>
                                <div class="token-value">Inter, sans-serif</div>
                            </div>
                            <div class="token-item">
                                <div class="token-item-header">
                                    <span class="token-name">font-size-base</span>
                                    <button class="token-copy-btn" onclick="copyToken('16px')">Copy</button>
                                </div>
                                <div class="token-value">16px</div>
                            </div>
                            <div class="token-item">
                                <div class="token-item-header">
                                    <span class="token-name">line-height-base</span>
                                    <button class="token-copy-btn" onclick="copyToken('1.6')">Copy</button>
                                </div>
                                <div class="token-value">1.6</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (tab === 'spacing') {
                body.innerHTML = `
                    <div class="token-section">
                        <h3>Spacing Scale</h3>
                        <div class="token-grid">
                            ${[4, 8, 12, 16, 24, 32, 48, 64].map((size, i) => `
                                <div class="token-item">
                                    <div class="token-item-header">
                                        <span class="token-name">space-${i + 1}</span>
                                        <button class="token-copy-btn" onclick="copyToken('${size}px')">Copy</button>
                                    </div>
                                    <div class="token-value">${size}px</div>
                                    <div style="background: var(--accent); height: ${size}px; width: 100%; margin-top: 0.5rem; border-radius: 0.25rem;"></div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (tab === 'export') {
                const cssVars = colors.map((c, i) => `  --color-${i + 1}: ${c};`).join('\\n');
                const tailwindConfig = colors.map((c, i) => `        'color-${i + 1}': '${c}',`).join('\\n');
                const scssVars = colors.map((c, i) => `$color-${i + 1}: ${c};`).join('\\n');
                
                body.innerHTML = `
                    <div class="token-section">
                        <h3>Export Design Tokens</h3>
                        <div class="export-options">
                            <button class="export-btn primary" onclick="downloadTokens('css')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                CSS Variables
                            </button>
                            <button class="export-btn" onclick="downloadTokens('tailwind')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Tailwind Config
                            </button>
                            <button class="export-btn" onclick="downloadTokens('scss')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                SCSS Variables
                            </button>
                            <button class="export-btn" onclick="downloadTokens('json')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                JSON
                            </button>
                        </div>
                        <div style="margin-top: 2rem;">
                            <h4 style="font-size: 0.875rem; margin-bottom: 0.75rem; color: var(--text-primary);">Preview (CSS Variables)</h4>
                            <pre style="background: var(--bg-tertiary); padding: 1rem; border-radius: 0.5rem; overflow-x: auto; font-size: 0.75rem; color: var(--text-secondary);">:root {
${cssVars}
}</pre>
                        </div>
                    </div>
                `;
            }
        }

        function copyToken(value) {
            navigator.clipboard.writeText(value).then(() => {
                showToast('Token copied!', 'success');
            });
        }

        function downloadTokens(format) {
            if (!currentInspectedStyle) return;
            
            const colors = styleColors[currentInspectedStyle.num] || [];
            let content = '';
            let filename = `style-${currentInspectedStyle.num}-tokens`;
            
            if (format === 'css') {
                content = `:root {\n${colors.map((c, i) => `  --color-${i + 1}: ${c};`).join('\\n')}\n}`;
                filename += '.css';
            } else if (format === 'scss') {
                content = colors.map((c, i) => `$color-${i + 1}: ${c};`).join('\\n');
                filename += '.scss';
            } else if (format === 'tailwind') {
                content = `module.exports = {\n  theme: {\n    extend: {\n      colors: {\n${colors.map((c, i) => `        'color-${i + 1}': '${c}',`).join('\\n')}\n      }\n    }\n  }\n}`;
                filename += '.js';
            } else if (format === 'json') {
                content = JSON.stringify({
                    styleName: currentInspectedStyle.name,
                    styleNumber: currentInspectedStyle.num,
                    colors: colors.map((c, i) => ({ name: `color-${i + 1}`, value: c })),
                    typography: {
                        headingFont: 'Playfair Display, serif',
                        bodyFont: 'Inter, sans-serif',
                        baseSize: '16px'
                    },
                    spacing: [4, 8, 12, 16, 24, 32, 48, 64]
                }, null, 2);
                filename += '.json';
            }
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            
            showToast(`Downloaded ${filename}`, 'success');
        }

        // Token tab switching
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('token-tab')) {
                renderTokenTab(e.target.dataset.tab);
            }
        });

        // Make functions global
        window.openTokenInspector = openTokenInspector;
        window.closeTokenInspector = closeTokenInspector;
        window.copyToken = copyToken;
        window.downloadTokens = downloadTokens;

        // Comparison Matrix
        function addToComparisonMatrix(styleNum, event) {
            event.preventDefault();
            event.stopPropagation();
            
            const style = styles.find(s => s.num === styleNum);
            if (!style) return;
            
            if (!matrixStyles.find(s => s.num === styleNum)) {
                matrixStyles.push(style);
                showToast(`Added ${style.name} to comparison matrix`, 'success');
                
                if (matrixStyles.length >= 2) {
                    // Auto-open when we have 2+ styles
                    setTimeout(() => {
                        document.getElementById('comparisonMatrixBtn').style.animation = 'pulse 0.5s ease-in-out 3';
                    }, 300);
                }
            } else {
                showToast(`${style.name} already in matrix`, 'warning');
            }
        }

        function openComparisonMatrix() {
            if (matrixStyles.length === 0) {
                showToast('Add styles to compare first', 'warning');
                return;
            }
            
            const modal = document.getElementById('comparisonMatrixModal');
            const body = document.getElementById('comparisonMatrixBody');
            
            // Build comparison table
            const attributes = [
                { label: 'Style Name', key: 'name' },
                { label: 'Style Number', key: 'num' },
                { label: 'Blend Formula', key: 'blend' },
                { label: 'Temperature', key: 'temp' },
                { label: 'Formality', key: 'formality' },
                { label: 'Categories', key: 'tags' },
                { label: 'Perfect For', key: 'perfectFor' },
                { label: 'Primary Colors', key: 'colors' }
            ];
            
            let tableHTML = `
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Attribute</th>
                            ${matrixStyles.map(s => `<th>${s.name}</th>`).join('')}
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            attributes.forEach(attr => {
                tableHTML += `<tr><td style="font-weight:600;">${attr.label}</td>`;
                
                matrixStyles.forEach(style => {
                    let value = style[attr.key];
                    
                    if (attr.key === 'tags') {
                        value = value.map(t => `<span class="tag ${t}">${t}</span>`).join(' ');
                    } else if (attr.key === 'perfectFor') {
                        value = (value || []).join(', ');
                    } else if (attr.key === 'colors') {
                        const colors = styleColors[style.num] || [];
                        value = colors.slice(0, 4).map(c => 
                            `<span style="display:inline-block;width:24px;height:24px;background:${c};border-radius:4px;margin-right:4px;border:1px solid var(--border);"></span>`
                        ).join('');
                    }
                    
                    tableHTML += `<td>${value}</td>`;
                });
                
                tableHTML += `</tr>`;
            });
            
            tableHTML += `
                    </tbody>
                </table>
            `;
            
            body.innerHTML = tableHTML;
            modal.classList.add('visible');
        }

        function closeComparisonMatrix() {
            document.getElementById('comparisonMatrixModal').classList.remove('visible');
        }

        function exportComparisonMatrix() {
            showToast('Comparison export feature coming soon!', 'success');
            // Would implement PDF export here
        }

        document.getElementById('comparisonMatrixBtn').addEventListener('click', openComparisonMatrix);
        window.addToComparisonMatrix = addToComparisonMatrix;
        window.closeComparisonMatrix = closeComparisonMatrix;
        window.exportComparisonMatrix = exportComparisonMatrix;

        // AI Recommendations Panel
        function generateAISuggestions() {
            const panel = document.getElementById('aiRecommendationsPanel');
            const body = document.getElementById('aiPanelBody');
            
            // Generate smart suggestions based on user behavior
            const recentlyViewed = getRecentStyles();
            const favs = favorites;
            
            let suggestions = [];
            
            // Suggest based on favorites
            if (favs.length > 0) {
                const favStyles = styles.filter(s => favs.includes(s.num));
                const commonTags = findCommonTags(favStyles);
                
                if (commonTags.length > 0) {
                    const similarStyles = styles.filter(s => 
                        !favs.includes(s.num) && 
                        s.tags.some(t => commonTags.includes(t))
                    ).slice(0, 3);
                    
                    similarStyles.forEach(style => {
                        suggestions.push({
                            title: style.name,
                            reason: `Similar to your favorites (${commonTags.join(', ')})`,
                            confidence: 95,
                            styleNum: style.num
                        });
                    });
                }
            }
            
            // Suggest trending/popular
            suggestions.push({
                title: 'Dark Academia Lobbi',
                reason: 'Popular choice for academic and professional associations',
                confidence: 88,
                styleNum: 9
            });
            
            suggestions.push({
                title: 'Nordic Minimal',
                reason: 'Modern, clean design perfect for tech and startups',
                confidence: 85,
                styleNum: 92
            });
            
            body.innerHTML = suggestions.map(sug => `
                <div class="ai-suggestion">
                    <div class="ai-suggestion-header">
                        <span class="ai-suggestion-title">${sug.title}</span>
                        <span class="ai-confidence">${sug.confidence}%</span>
                    </div>
                    <p class="ai-suggestion-reason">${sug.reason}</p>
                    <button class="ai-suggestion-action" onclick="jumpToStyle(${sug.styleNum})">
                        View Style
                    </button>
                </div>
            `).join('');
            
            panel.classList.add('visible');
        }

        function findCommonTags(stylesList) {
            const tagCounts = {};
            stylesList.forEach(s => {
                s.tags.forEach(tag => {
                    tagCounts[tag] = (tagCounts[tag] || 0) + 1;
                });
            });
            
            return Object.entries(tagCounts)
                .filter(([tag, count]) => count >= 2)
                .map(([tag]) => tag);
        }

        function closeAIPanel() {
            document.getElementById('aiRecommendationsPanel').classList.remove('visible');
        }

        document.getElementById('aiSuggestionsBtn').addEventListener('click', generateAISuggestions);
        window.closeAIPanel = closeAIPanel;

        // Initial render
        populateSearchSuggestions();
        updateFavoritesCount();
        updateCollectionsCount();
        renderRecentStyles();
        renderStyles(styles);
        checkFirstVisit();
    </script>
</body>
</html>
